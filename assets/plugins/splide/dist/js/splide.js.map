{"version":3,"file":"splide.js","sources":["../../src/js/core/event.js","../../src/js/core/state.js","../../src/js/utils/object.js","../../src/js/utils/utils.js","../../src/js/utils/dom.js","../../src/js/constants/types.js","../../src/js/transitions/slide/index.js","../../src/js/transitions/fade/index.js","../../src/js/core/composer.js","../../src/js/utils/error.js","../../src/js/constants/classes.js","../../src/js/constants/i18n.js","../../src/js/constants/defaults.js","../../src/js/constants/states.js","../../src/js/splide.js","../../src/js/components/options/index.js","../../src/js/constants/directions.js","../../src/js/components/elements/slide.js","../../src/js/components/elements/index.js","../../src/js/components/controller/index.js","../../src/js/components/track/index.js","../../src/js/components/clones/index.js","../../src/js/components/layout/directions/horizontal.js","../../src/js/components/layout/directions/vertical.js","../../src/js/utils/time.js","../../src/js/components/layout/index.js","../../src/js/components/drag/index.js","../../src/js/components/click/index.js","../../src/js/components/autoplay/index.js","../../src/js/components/cover/index.js","../../src/js/components/arrows/path.js","../../src/js/components/arrows/index.js","../../src/js/components/pagination/index.js","../../src/js/components/lazyload/index.js","../../src/js/constants/a11y.js","../../src/js/components/keyboard/index.js","../../src/js/components/a11y/index.js","../../src/js/components/sync/index.js","../../src/js/components/breakpoints/index.js","../../src/js/components/index.js","../../src/js/build/default/default.js"],"sourcesContent":["/**\r\n * The function for providing an Event object simply managing events.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n\r\n/**\r\n * The function for providing an Event object simply managing events.\r\n */\r\nexport default () => {\r\n\t/**\r\n\t * Store all event data.\r\n\t *\r\n\t * @type {Array}\r\n\t */\r\n\tlet data = [];\r\n\r\n\tconst Event = {\r\n\t\t/**\r\n\t\t * Subscribe the given event(s).\r\n\t\t *\r\n\t\t * @param {string}   events  - An event name. Use space to separate multiple events.\r\n\t\t *                             Also, namespace is accepted by dot, such as 'resize.{namespace}'.\r\n\t\t * @param {function} handler - A callback function.\r\n\t\t * @param {Element}  elm     - Optional. Native event will be listened to when this arg is provided.\r\n\t\t * @param {Object}   options - Optional. Options for addEventListener.\r\n\t\t */\r\n\t\ton( events, handler, elm = null, options = {} ) {\r\n\t\t\tevents.split( ' ' ).forEach( event => {\r\n\t\t\t\tif ( elm ) {\r\n\t\t\t\t\telm.addEventListener( event, handler, options );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.push( { event, handler, elm, options } );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Unsubscribe the given event(s).\r\n\t\t *\r\n\t\t * @param {string}  events - A event name or names split by space.\r\n\t\t * @param {Element} elm    - Optional. removeEventListener() will be called when this arg is provided.\r\n\t\t */\r\n\t\toff( events, elm = null ) {\r\n\t\t\tevents.split( ' ' ).forEach( event => {\r\n\t\t\t\tdata = data.filter( item => {\r\n\t\t\t\t\tif ( item && item.event === event && item.elm === elm ) {\r\n\t\t\t\t\t\tunsubscribe( item );\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Emit an event.\r\n\t\t * This method is only for custom events.\r\n\t\t *\r\n\t\t * @param {string}  event - An event name.\r\n\t\t * @param {*}       args  - Any number of arguments passed to handlers.\r\n\t\t */\r\n\t\temit( event, ...args ) {\r\n\t\t\tdata.forEach( item => {\r\n\t\t\t\tif ( ! item.elm && item.event.split( '.' )[0] === event ) {\r\n\t\t\t\t\titem.handler( ...args );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Clear event data.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tdata.forEach( unsubscribe );\r\n\t\t\tdata = [];\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the registered event listener.\r\n\t *\r\n\t * @param {Object} item - An object containing event data.\r\n\t */\r\n\tfunction unsubscribe( item ) {\r\n\t\tif ( item.elm ) {\r\n\t\t\titem.elm.removeEventListener( item.event, item.handler, item.options );\r\n\t\t}\r\n\t}\r\n\r\n\treturn Event;\r\n}","/**\r\n * The function providing a super simple state system.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * The function providing a super simple state system.\r\n *\r\n * @param {string|number} initialState - Provide the initial state value.\r\n */\r\nexport default initialState => {\r\n\t/**\r\n\t * Store the current state.\r\n\t *\r\n\t * @type {string|number}\r\n\t */\r\n\tlet curr = initialState;\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Change state.\r\n\t\t *\r\n\t\t * @param {string|number} state - A new state.\r\n\t\t */\r\n\t\tset( state ) {\r\n\t\t\tcurr = state;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Verify if the current state is given one or not.\r\n\t\t *\r\n\t\t * @param {string|number} state - A state name to be verified.\r\n\t\t *\r\n\t\t * @return {boolean} - True if the current state is the given one.\r\n\t\t */\r\n\t\tis( state ) {\r\n\t\t\treturn state === curr;\r\n\t\t},\r\n\t}\r\n}","/**\r\n * Some utility functions related with Object, supporting IE.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nconst { keys } = Object;\r\n\r\n/**\r\n * Iterate an object like Array.forEach.\r\n * IE doesn't support forEach of HTMLCollection.\r\n *\r\n * @param {Object}    obj       - An object.\r\n * @param {function}  callback  - A function handling each value. Arguments are value, property and index.\r\n */\r\nexport function each( obj, callback ) {\r\n\tkeys( obj ).some( ( key, index ) => {\r\n\t\treturn callback( obj[ key ], key, index );\r\n\t} );\r\n}\r\n\r\n/**\r\n * Return values of the given object as an array.\r\n * IE doesn't support Object.values.\r\n *\r\n * @param {Object} obj - An object.\r\n *\r\n * @return {Array} - An array containing all values of the given object.\r\n */\r\nexport function values( obj ) {\r\n\treturn keys( obj ).map( key => obj[ key ] );\r\n}\r\n\r\n/**\r\n * Check if the given subject is object or not.\r\n *\r\n * @param {*} subject - A subject to be verified.\r\n *\r\n * @return {boolean} - True if object, false otherwise.\r\n */\r\nexport function isObject( subject ) {\r\n\treturn typeof subject === 'object';\r\n}\r\n\r\n/**\r\n * Merge two objects deeply.\r\n *\r\n * @param {Object} to   - An object where \"from\" is merged.\r\n * @param {Object} from - An object merged to \"to\".\r\n *\r\n * @return {Object} - A merged object.\r\n */\r\nexport function merge( { ...to }, from ) {\r\n\teach( from, ( value, key ) => {\r\n\t\tif ( isObject( value ) ) {\r\n\t\t\tif ( ! isObject( to[ key ] ) ) {\r\n\t\t\t\tto[ key ] = {};\r\n\t\t\t}\r\n\r\n\t\t\tto[ key ] = merge( to[ key ], value );\r\n\t\t} else {\r\n\t\t\tto[ key ] = value;\r\n\t\t}\r\n\t} );\r\n\r\n\treturn to;\r\n}\r\n\r\n/**\r\n * Assign all properties \"from\" to \"to\" object.\r\n *\r\n * @param {Object} to   - An object where properties are assigned.\r\n * @param {Object} from - An object whose properties are assigned to \"to\".\r\n *\r\n * @return {Object} - An assigned object.\r\n */\r\nexport function assign( to, from ) {\r\n\tkeys( from ).forEach( key => {\r\n\t\tif ( ! to[ key ] ) {\r\n\t\t\tObject.defineProperty( to, key, Object.getOwnPropertyDescriptor( from, key ) );\r\n\t\t}\r\n\t} );\r\n\r\n\treturn to;\r\n}","/**\r\n * A package of some miscellaneous utility functions.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { create, append, remove, applyStyle } from \"./dom\";\r\n\r\n/**\r\n * Convert the given value to array.\r\n *\r\n * @param {*} value - Any value.\r\n *\r\n * @return {*[]} - Array containing the given value.\r\n */\r\nexport function toArray( value ) {\r\n\treturn Array.isArray( value ) ? value : [ value ];\r\n}\r\n\r\n/**\r\n * Check if the given value is between min and max.\r\n * Min will be returned when the value is less than min or max will do when greater than max.\r\n *\r\n * @param {number} value - A number to be checked.\r\n * @param {number} m1    - Minimum or maximum number.\r\n * @param {number} m2    - Maximum or minimum number.\r\n *\r\n * @return {number} - A value itself, min or max.\r\n */\r\nexport function between( value, m1, m2 ) {\r\n\treturn Math.min( Math.max( value, m1 > m2 ? m2 : m1 ), m1 > m2 ? m1 : m2 );\r\n}\r\n\r\n/**\r\n * The sprintf method with minimum functionality.\r\n *\r\n * @param {string}       format       - The string format.\r\n * @param {string|Array} replacements - Replacements accepting multiple arguments.\r\n *\r\n * @returns {string} - Converted string.\r\n */\r\nexport function sprintf( format, replacements ) {\r\n\tlet i = 0;\r\n\treturn format.replace( /%s/g, () => toArray( replacements )[ i++ ] );\r\n}\r\n\r\n/**\r\n * Append px unit to the given subject if necessary.\r\n *\r\n * @param {number|string} value - A value that may not include an unit.\r\n *\r\n * @return {string} - If the value is string, return itself.\r\n *                    If number, do value + \"px\". An empty string, otherwise.\r\n */\r\nexport function unit( value ) {\r\n\tconst type = typeof value;\r\n\r\n\tif ( type === 'number' && value > 0 ) {\r\n\t\treturn parseFloat( value ) + 'px';\r\n\t}\r\n\r\n\treturn type === 'string' ? value : '';\r\n}\r\n\r\n/**\r\n * Pad start with 0.\r\n *\r\n * @param {number} number - A number to be filled with 0.\r\n *\r\n * @return {string|number} - Padded number.\r\n */\r\nexport function pad( number ) {\r\n\treturn number < 10 ? '0' + number : number\r\n}\r\n\r\n/**\r\n * Convert the given value to pixel.\r\n *\r\n * @param {Element}       root  - Root element where a dummy div is appended.\r\n * @param {string|number} value - CSS value to be converted, such as 10rem.\r\n *\r\n * @return {number} - Pixel.\r\n */\r\nexport function toPixel( root, value ) {\r\n\tif ( typeof value === 'string' ) {\r\n\t\tconst div = create( 'div', {} );\r\n\r\n\t\tapplyStyle( div, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: value,\r\n\t\t} );\r\n\r\n\t\tappend( root, div );\r\n\r\n\t\tvalue = div.clientWidth;\r\n\r\n\t\tremove( div );\r\n\t}\r\n\r\n\treturn +value || 0;\r\n}","/**\r\n * Some utility functions related with DOM.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { each, values } from './object';\r\nimport { toArray } from \"./utils\";\r\n\r\n\r\n/**\r\n * Find the first element matching the given selector.\r\n * Be aware that all selectors after a space are ignored.\r\n *\r\n * @param {Element|Node}  elm       - An ancestor element.\r\n * @param {string}        selector  - DOMString.\r\n *\r\n * @return {Element|null} - A found element or null.\r\n */\r\nexport function find( elm, selector ) {\r\n\treturn elm ? elm.querySelector( selector.split( ' ' )[0] ) : null;\r\n}\r\n\r\n/**\r\n * Find a first child having the given tag or class name.\r\n *\r\n * @param {Element} parent         - A parent element.\r\n * @param {string}  tagOrClassName - A tag or class name.\r\n *\r\n * @return {Element|undefined} - A found element on success or undefined on failure.\r\n */\r\nexport function child( parent, tagOrClassName ) {\r\n\treturn children( parent, tagOrClassName )[0];\r\n}\r\n\r\n/**\r\n * Return chile elements that matches the provided tag or class name.\r\n *\r\n * @param {Element} parent         - A parent element.\r\n * @param {string}  tagOrClassName - A tag or class name.\r\n *\r\n * @return {Element[]} - Found elements.\r\n */\r\nexport function children( parent, tagOrClassName ) {\r\n\tif ( parent ) {\r\n\t\treturn values( parent.children ).filter( child => {\r\n\t\t\treturn hasClass( child, tagOrClassName.split( ' ' )[0] ) || child.tagName === tagOrClassName;\r\n\t\t} );\r\n\t}\r\n\r\n\treturn [];\r\n}\r\n\r\n/**\r\n * Create an element with some optional attributes.\r\n *\r\n * @param {string} tag   - A tag name.\r\n * @param {Object} attrs - An object any attribute pairs of name and value.\r\n *\r\n * @return {Element} - A created element.\r\n */\r\nexport function create( tag, attrs ) {\r\n\tconst elm = document.createElement( tag );\r\n\teach( attrs, ( value, key ) => setAttribute( elm, key, value ) );\r\n\r\n\treturn elm;\r\n}\r\n\r\n/**\r\n * Convert HTML string to DOM node.\r\n *\r\n * @param {string} html - HTML string.\r\n *\r\n * @return {Node} - A created node.\r\n */\r\nexport function domify( html ) {\r\n\tconst div = create( 'div', {} );\r\n\tdiv.innerHTML = html;\r\n\r\n\treturn div.firstChild;\r\n}\r\n\r\n/**\r\n * Remove a given element from a DOM tree.\r\n *\r\n * @param {Element|Element[]} elms - Element(s) to be removed.\r\n */\r\nexport function remove( elms ) {\r\n\ttoArray( elms ).forEach( elm => {\r\n\t\tif ( elm ) {\r\n\t\t\tconst parent = elm.parentElement;\r\n\t\t\tparent && parent.removeChild( elm );\r\n\t\t}\r\n\t} );\r\n}\r\n\r\n/**\r\n * Append a child to a given element.\r\n *\r\n * @param {Element} parent - A parent element.\r\n * @param {Element} child  - An element to be appended.\r\n */\r\nexport function append( parent, child ) {\r\n\tif ( parent ) {\r\n\t\tparent.appendChild( child );\r\n\t}\r\n}\r\n\r\n/**\r\n * Insert an element before the reference element.\r\n *\r\n * @param {Element|Node} ref - A reference element.\r\n * @param {Element}      elm - An element to be inserted.\r\n */\r\nexport function before( elm, ref ) {\r\n\tif ( elm && ref ) {\r\n\t\tconst parent = ref.parentElement;\r\n\t\tparent && parent.insertBefore( elm, ref );\r\n\t}\r\n}\r\n\r\n/**\r\n * Apply styles to the given element.\r\n *\r\n * @param {Element} elm     - An element where styles are applied.\r\n * @param {Object}  styles  - Object containing styles.\r\n */\r\nexport function applyStyle( elm, styles ) {\r\n\tif ( elm ) {\r\n\t\teach( styles, ( value, prop ) => {\r\n\t\t\tif ( value !== null ) {\r\n\t\t\t\telm.style[ prop ] = value;\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n}\r\n\r\n/**\r\n * Add or remove classes to/from the element.\r\n * This function is for internal usage.\r\n *\r\n * @param {Element}         elm     - An element where classes are added.\r\n * @param {string|string[]} classes - Class names being added.\r\n * @param {boolean}         remove  - Whether to remove or add classes.\r\n */\r\nfunction addOrRemoveClasses( elm, classes, remove ) {\r\n\tif ( elm ) {\r\n\t\ttoArray( classes ).forEach( name => {\r\n\t\t\tif ( name ) {\r\n\t\t\t\telm.classList[ remove ? 'remove' : 'add' ]( name );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n}\r\n\r\n/**\r\n * Add classes to the element.\r\n *\r\n * @param {Element}          elm     - An element where classes are added.\r\n * @param {string|string[]}  classes - Class names being added.\r\n */\r\nexport function addClass( elm, classes ) {\r\n\taddOrRemoveClasses( elm, classes, false );\r\n}\r\n\r\n/**\r\n * Remove a class from the element.\r\n *\r\n * @param {Element}         elm     - An element where classes are removed.\r\n * @param {string|string[]} classes - A class name being removed.\r\n */\r\nexport function removeClass( elm, classes ) {\r\n\taddOrRemoveClasses( elm, classes, true );\r\n}\r\n\r\n/**\r\n * Verify if the provided element has the class or not.\r\n *\r\n * @param {Element} elm       - An element.\r\n * @param {string}  className - A class name.\r\n *\r\n * @return {boolean} - True if the element has the class or false if not.\r\n */\r\nexport function hasClass( elm, className ) {\r\n\treturn !! elm && elm.classList.contains( className );\r\n}\r\n\r\n/**\r\n * Set attribute to the given element.\r\n *\r\n * @param {Element}                 elm   - An element where an attribute is assigned.\r\n * @param {string}                  name  - Attribute name.\r\n * @param {string|number|boolean}   value - Attribute value.\r\n */\r\nexport function setAttribute( elm, name, value ) {\r\n\tif ( elm ) {\r\n\t\telm.setAttribute( name, value );\r\n\t}\r\n}\r\n\r\n/**\r\n * Get attribute from the given element.\r\n *\r\n * @param {Element} elm  - An element where an attribute is assigned.\r\n * @param {string}  name - Attribute name.\r\n *\r\n * @return {string} - The value of the given attribute if available. An empty string if not.\r\n */\r\nexport function getAttribute( elm, name ) {\r\n\treturn elm ? elm.getAttribute( name ) : '';\r\n}\r\n\r\n/**\r\n * Remove attribute from the given element.\r\n *\r\n * @param {Element|Element[]} elms  - An element where an attribute is removed.\r\n * @param {string|string[]}      names - Attribute name.\r\n */\r\nexport function removeAttribute( elms, names ) {\r\n\ttoArray( names ).forEach( name => {\r\n\t\ttoArray( elms ).forEach( elm => elm && elm.removeAttribute( name ) );\r\n\t} );\r\n}\r\n\r\n/**\r\n * Return the Rect object of the provided object.\r\n *\r\n * @param {Element} elm - An element.\r\n *\r\n * @return {ClientRect|DOMRect} - A rect object.\r\n */\r\nexport function getRect( elm ) {\r\n\treturn elm.getBoundingClientRect();\r\n}\r\n\r\n/**\r\n * Trigger the given callback after all images contained by the element are loaded.\r\n *\r\n * @param {Element}  elm      - Element that may contain images.\r\n * @param {Function} callback - Callback function fired right after all images are loaded.\r\n */\r\nexport function loaded( elm, callback ) {\r\n\tconst images = elm.querySelectorAll( 'img' );\r\n\tconst length = images.length;\r\n\r\n\tif ( length ) {\r\n\t\tlet count = 0;\r\n\r\n\t\teach( images, img => {\r\n\t\t\timg.onload = img.onerror = () => {\r\n\t\t\t\tif ( ++count === length ) {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} );\r\n\t} else {\r\n\t\t// Trigger the callback immediately if there is no image.\r\n\t\tcallback();\r\n\t}\r\n}","/**\r\n * Export slider types.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Normal slider.\r\n *\r\n * @type {string}\r\n */\r\nexport const SLIDE = 'slide';\r\n\r\n/**\r\n * Loop after the last slide and before the first one.\r\n *\r\n * @type {string}\r\n */\r\nexport const LOOP = 'loop';\r\n\r\n/**\r\n * The track doesn't move.\r\n *\r\n * @type {string}\r\n */\r\nexport const FADE = 'fade';","/**\r\n * The component for general slide effect transition.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle } from '../../utils/dom';\r\nimport { SLIDE } from \"../../constants/types\";\r\n\r\n\r\n/**\r\n * The component for general slide effect transition.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Hold the list element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tlet list;\r\n\r\n\t/**\r\n\t * Hold the onEnd callback function.\r\n\t *\r\n\t * @type {function}\r\n\t */\r\n\tlet endCallback;\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tlist = Components.Elements.list;\r\n\r\n\t\t\tSplide.on( 'transitionend', e => {\r\n\t\t\t\tif ( e.target === list && endCallback ) {\r\n\t\t\t\t\tendCallback();\r\n\t\t\t\t}\r\n\t\t\t}, list );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Start transition.\r\n\t\t *\r\n\t\t * @param {number}   destIndex - Destination slide index that might be clone's.\r\n\t\t * @param {number}   newIndex  - New index.\r\n\t\t * @param {number}   prevIndex - Previous index.\r\n\t\t * @param {Object}   coord     - Destination coordinates.\r\n\t\t * @param {function} done      - Callback function must be invoked when transition is completed.\r\n\t\t */\r\n\t\tstart( destIndex, newIndex, prevIndex, coord, done ) {\r\n\t\t\tconst options   = Splide.options;\r\n\t\t\tconst edgeIndex = Components.Controller.edgeIndex;\r\n\t\t\tlet speed       = options.speed;\r\n\t\t\tendCallback = done;\r\n\r\n\t\t\tif ( Splide.is( SLIDE ) ) {\r\n\t\t\t\tif ( ( prevIndex === 0 && newIndex >= edgeIndex ) || ( prevIndex >= edgeIndex && newIndex === 0 ) ) {\r\n\t\t\t\t\tspeed = options.rewindSpeed || speed;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tapplyStyle( list, {\r\n\t\t\t\ttransition: `transform ${ speed }ms ${ options.easing }`,\r\n\t\t\t\ttransform : `translate(${ coord.x }px,${ coord.y }px)`,\r\n\t\t\t} );\r\n\t\t},\r\n\t};\r\n}","/**\r\n * The component for fade transition.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle } from '../../utils/dom';\r\nimport { unit } from \"../../utils/utils\";\r\n\r\n\r\n/**\r\n * The component for fade transition.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\tconst Fade = {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t * Apply transition style to the first slide.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tapply( Splide.index );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Start transition.\r\n\t\t *\r\n\t\t * @param {number}    destIndex - Destination slide index that might be clone's.\r\n\t\t * @param {number}    newIndex  - New index.\r\n\t\t * @param {number}    prevIndex - Previous index.\r\n\t\t * @param {Object}    coord     - Destination coordinates.\r\n\t\t * @param {function}  done      - Callback function must be invoked when transition is completed.\r\n\t\t */\r\n\t\tstart( destIndex, newIndex, prevIndex, coord, done ) {\r\n\t\t\tconst track = Components.Elements.track;\r\n\r\n\t\t\tapplyStyle( track, { height: unit( track.clientHeight ) } );\r\n\r\n\t\t\tapply( newIndex );\r\n\r\n\t\t\tsetTimeout( () => {\r\n\t\t\t\tdone();\r\n\t\t\t\tapplyStyle( track, { height: '' } );\r\n\t\t\t} );\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Apply transition style to the slide specified by the given index.\r\n\t *\r\n\t * @param {number} index - A slide index.\r\n\t */\r\n\tfunction apply( index ) {\r\n\t\tconst options = Splide.options;\r\n\r\n\t\tapplyStyle( Components.Elements.slides[ index ], {\r\n\t\t\ttransition: `opacity ${ options.speed }ms ${ options.easing }`,\r\n\t\t} );\r\n\t}\r\n\r\n\treturn Fade;\r\n}","/**\r\n * Provide a function for composing components.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { each } from '../utils/object';\r\nimport { Slide, Fade } from '../transitions';\r\nimport { FADE } from '../constants/types';\r\n\r\n\r\n/**\r\n * Compose components.\r\n *\r\n * @param {Splide}   Splide     - Splide instance.\r\n * @param {Object}   Components - Additional components.\r\n * @param {function} Transition - Change component for transition.\r\n *\r\n * @return {Object} - An object containing all components.\r\n */\r\nexport default function compose( Splide, Components, Transition ) {\r\n\tconst components = {};\r\n\r\n\teach( Components, ( Component, name ) => {\r\n\t\tcomponents[ name ] = Component( Splide, components, name.toLowerCase() );\r\n\t} );\r\n\r\n\tif ( ! Transition ) {\r\n\t\tTransition = Splide.is( FADE ) ? Fade : Slide;\r\n\t}\r\n\r\n\tcomponents.Transition = Transition( Splide, components );\r\n\r\n\treturn components;\r\n}","/**\r\n * Utility functions for outputting logs.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Prefix of an error massage.\r\n *\r\n * @type {string}\r\n */\r\nconst MESSAGE_PREFIX = '[SPLIDE]';\r\n\r\n\r\n/**\r\n * Display an error message on the browser console.\r\n *\r\n * @param {string} message - An error message.\r\n */\r\nexport function error( message ) {\r\n\tconsole.error( `${ MESSAGE_PREFIX } ${ message }` );\r\n}\r\n\r\n/**\r\n * Check existence of the given object and throw an error if it doesn't.\r\n *\r\n * @throws {Error}\r\n *\r\n * @param {*}      subject - A subject to be confirmed.\r\n * @param {string} message - An error message.\r\n */\r\nexport function exist( subject, message ) {\r\n\tif ( ! subject ) {\r\n\t\tthrow new Error( message );\r\n\t}\r\n}","/**\r\n * Export class names.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * A root class name.\r\n *\r\n * @type {string}\r\n */\r\nconst ROOT = 'splide';\r\n\r\n/**\r\n * The definition table of all classes for elements.\r\n * They might be modified by options.\r\n *\r\n * @type {Object}\r\n */\r\nexport const ELEMENT_CLASSES = {\r\n\troot      : ROOT,\r\n\tslider    : `${ ROOT }__slider`,\r\n\ttrack     : `${ ROOT }__track`,\r\n\tlist      : `${ ROOT }__list`,\r\n\tslide     : `${ ROOT }__slide`,\r\n\tcontainer : `${ ROOT }__slide__container`,\r\n\tarrows    : `${ ROOT }__arrows`,\r\n\tarrow     : `${ ROOT }__arrow`,\r\n\tprev      : `${ ROOT }__arrow--prev`,\r\n\tnext      : `${ ROOT }__arrow--next`,\r\n\tpagination: `${ ROOT }__pagination`,\r\n\tpage      : `${ ROOT }__pagination__page`,\r\n\tclone     : `${ ROOT }__slide--clone`,\r\n\tprogress  : `${ ROOT }__progress`,\r\n\tbar       : `${ ROOT }__progress__bar`,\r\n\tautoplay  : `${ ROOT }__autoplay`,\r\n\tplay      : `${ ROOT }__play`,\r\n\tpause     : `${ ROOT }__pause`,\r\n\tspinner   : `${ ROOT }__spinner`,\r\n\tsr        : `${ ROOT }__sr`,\r\n};\r\n\r\n/**\r\n * Definitions of status classes.\r\n *\r\n * @type {Object}\r\n */\r\nexport const STATUS_CLASSES = {\r\n\tactive : 'is-active',\r\n\tvisible: 'is-visible',\r\n\tloading: 'is-loading',\r\n};","/**\r\n * Export i18n texts as object.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Texts for i18n.\r\n *\r\n * @type {Object}\r\n */\r\nexport const I18N = {\r\n\tprev  : 'Previous slide',\r\n\tnext  : 'Next slide',\r\n\tfirst : 'Go to first slide',\r\n\tlast  : 'Go to last slide',\r\n\tslideX: 'Go to slide %s',\r\n\tpageX : 'Go to page %s',\r\n\tplay  : 'Start autoplay',\r\n\tpause : 'Pause autoplay',\r\n};","/**\r\n * Export default options.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { ELEMENT_CLASSES as classes } from \"./classes\";\r\nimport { I18N as i18n } from './i18n';\r\n\r\n\r\nexport const DEFAULTS = {\r\n\t/**\r\n\t * Determine a slider type.\r\n\t * - 'slide': Regular slider.\r\n\t * - 'loop' : Carousel slider.\r\n\t * - 'fade' : Change slides with fade transition. perPage, drag options are ignored.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\ttype: 'slide',\r\n\r\n\t/**\r\n\t * Whether to rewind a slider before the first slide or after the last one.\r\n\t * In \"loop\" mode, this option is ignored.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\trewind: false,\r\n\r\n\t/**\r\n\t * Transition speed in milliseconds.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tspeed: 400,\r\n\r\n\t/**\r\n\t * Transition speed on rewind in milliseconds.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\trewindSpeed: 0,\r\n\r\n\t/**\r\n\t * Whether to prevent any actions while a slider is transitioning.\r\n\t * If false, navigation, drag and swipe work while the slider is running.\r\n\t * Even so, it will be forced to wait for transition in some cases in the loop mode to shift a slider.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\twaitForTransition: true,\r\n\r\n\t/**\r\n\t * Define slider max width.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\twidth: 0,\r\n\r\n\t/**\r\n\t * Define slider height.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\theight: 0,\r\n\r\n\t/**\r\n\t * Fix width of slides. CSS format is allowed such as 10em, 80% or 80vw.\r\n\t * perPage number will be ignored when this option is falsy.\r\n\t *\r\n\t * @type {number|string}\r\n\t */\r\n\tfixedWidth: 0,\r\n\r\n\t/**\r\n\t * Fix height of slides. CSS format is allowed such as 10em, 80vh but % unit is not accepted.\r\n\t * heightRatio option will be ignored when this option is falsy.\r\n\t *\r\n\t * @type {number|string}\r\n\t */\r\n\tfixedHeight: 0,\r\n\r\n\t/**\r\n\t * Determine height of slides by ratio to a slider width.\r\n\t * This will be ignored when the fixedHeight is provided.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\theightRatio: 0,\r\n\r\n\t/**\r\n\t * If true, slide width will be determined by the element width itself.\r\n\t * - perPage/perMove should be 1.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tautoWidth: false,\r\n\r\n\t/**\r\n\t * If true, slide height will be determined by the element width itself.\r\n\t * - perPage/perMove should be 1.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tautoHeight: false,\r\n\r\n\t/**\r\n\t * Determine how many slides should be displayed per page.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tperPage: 1,\r\n\r\n\t/**\r\n\t * Determine how many slides should be moved when a slider goes to next or perv.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tperMove: 0,\r\n\r\n\t/**\r\n\t * Determine manually how many clones should be generated on the left and right side.\r\n\t * The total number of clones will be twice of this number.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tclones: 0,\r\n\r\n\t/**\r\n\t * Start index.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tstart: 0,\r\n\r\n\t/**\r\n\t * Determine which slide should be focused if there are multiple slides in a page.\r\n\t * A string \"center\" is acceptable for centering slides.\r\n\t *\r\n\t * @type {boolean|number|string}\r\n\t */\r\n\tfocus: false,\r\n\r\n\t/**\r\n\t * Gap between slides. CSS format is allowed such as 1em.\r\n\t *\r\n\t * @type {number|string}\r\n\t */\r\n\tgap: 0,\r\n\r\n\t/**\r\n\t * Set padding-left/right in horizontal mode or padding-top/bottom in vertical one.\r\n\t * Give a single value to set a same size for both sides or\r\n\t * do an object for different sizes.\r\n\t * Also, CSS format is allowed such as 1em.\r\n\t *\r\n\t * @example\r\n\t * - 10: Number\r\n\t * - '1em': CSS format.\r\n\t * - { left: 0, right: 20 }: Object for different sizes in horizontal mode.\r\n\t * - { top: 0, bottom: 20 }: Object for different sizes in vertical mode.\r\n\t *\r\n\t * @type {number|string|Object}\r\n\t */\r\n\tpadding: 0,\r\n\r\n\t/**\r\n\t * Whether to append arrows.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tarrows: true,\r\n\r\n\t/**\r\n\t * Change the arrow SVG path like 'm7.61 0.807-2.12...'.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tarrowPath: '',\r\n\r\n\t/**\r\n\t * Whether to append pagination(indicator dots) or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tpagination: true,\r\n\r\n\t/**\r\n\t * Activate autoplay.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tautoplay: false,\r\n\r\n\t/**\r\n\t * Autoplay interval in milliseconds.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tinterval: 5000,\r\n\r\n\t/**\r\n\t * Whether to stop autoplay when a slider is hovered.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tpauseOnHover: true,\r\n\r\n\t/**\r\n\t * Whether to stop autoplay when a slider elements are focused.\r\n\t * True is recommended for accessibility.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tpauseOnFocus: true,\r\n\r\n\t/**\r\n\t * Whether to reset progress of the autoplay timer when resumed.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tresetProgress: true,\r\n\r\n\t/**\r\n\t * Loading images lazily.\r\n\t * Image src must be provided by a data-splide-lazy attribute.\r\n\t *\r\n\t * - false: Do nothing.\r\n\t * - 'nearby': Only images around an active slide will be loaded.\r\n\t * - 'sequential': All images will be sequentially loaded.\r\n\t *\r\n\t * @type {boolean|string}\r\n\t */\r\n\tlazyLoad: false,\r\n\r\n\t/**\r\n\t * This option works only when a lazyLoad option is \"nearby\".\r\n\t * Determine how many pages(not slides) around an active slide should be loaded beforehand.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tpreloadPages: 1,\r\n\r\n\t/**\r\n\t * Easing for CSS transition. For example, linear, ease or cubic-bezier().\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\teasing: 'cubic-bezier(.42,.65,.27,.99)',\r\n\r\n\t/**\r\n\t * Whether to enable keyboard shortcuts\r\n\t * - true or 'global': Listen to keydown event of the document.\r\n\t * - 'focused': Listen to the keydown event of the slider root element. tabindex=\"0\" will be added to the element.\r\n\t * - false: Disable keyboard shortcuts.\r\n\t *\r\n\t * @type {boolean|string}\r\n\t */\r\n\tkeyboard: 'global',\r\n\r\n\t/**\r\n\t * Whether to allow mouse drag and touch swipe.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tdrag: true,\r\n\r\n\t/**\r\n\t * The angle threshold for drag.\r\n\t * The slider starts moving only when the drag angle is less than this threshold.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tdragAngleThreshold: 30,\r\n\r\n\t/**\r\n\t * Distance threshold for determining if the action is \"flick\" or \"swipe\".\r\n\t * When a drag distance is over this value, the action will be treated as \"swipe\", not \"flick\".\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tswipeDistanceThreshold: 150,\r\n\r\n\t/**\r\n\t * Velocity threshold for determining if the action is \"flick\" or \"swipe\".\r\n\t * Around 0.5 is recommended.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tflickVelocityThreshold: .6,\r\n\r\n\t/**\r\n\t * Determine power of flick. The larger number this is, the farther a slider runs by flick.\r\n\t * Around 500 is recommended.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tflickPower: 600,\r\n\r\n\t/**\r\n\t * Limit a number of pages to move by flick.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tflickMaxPages: 1,\r\n\r\n\t/**\r\n\t * Slider direction.\r\n\t * - 'ltr': Left to right.\r\n\t * - 'rtl': Right to left.\r\n\t * - 'ttb': Top to bottom.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tdirection: 'ltr',\r\n\r\n\t/**\r\n\t * Set img src to background-image of its parent element.\r\n\t * Images with various sizes can be displayed as same dimension without cropping work.\r\n\t * fixedHeight or heightRatio is required.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tcover: false,\r\n\r\n\t/**\r\n\t * Whether to enable accessibility(aria and screen reader texts) or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\taccessibility: true,\r\n\r\n\t/**\r\n\t * Whether to add tabindex=\"0\" to visible slides or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tslideFocus: true,\r\n\r\n\t/**\r\n\t * Determine if a slider is navigation for another.\r\n\t * Use \"sync\" API to synchronize two sliders.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tisNavigation: false,\r\n\r\n\t/**\r\n\t * Whether to trim spaces before the fist slide or after the last one when \"focus\" is not 0.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\ttrimSpace: true,\r\n\r\n\t/**\r\n\t * The \"is-active\" class is added after transition as default.\r\n\t * If true, it will be added before move.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tupdateOnMove: false,\r\n\r\n\t/**\r\n\t * Throttle duration in milliseconds for the resize event.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tthrottle: 100,\r\n\r\n\t/**\r\n\t * Whether to destroy a slider or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tdestroy: false,\r\n\r\n\t/**\r\n\t * Options for specific breakpoints.\r\n\t *\r\n\t * @example\r\n\t * {\r\n\t *   1000: {\r\n\t *     perPage: 3,\r\n\t *     gap: 20\r\n\t *   },\r\n\t *   600: {\r\n\t *     perPage: 1,\r\n\t *     gap: 5,\r\n\t *   }\r\n\t * }\r\n\t *\r\n\t * @type {boolean|Object}\r\n\t */\r\n\tbreakpoints: false,\r\n\r\n\t/**\r\n\t * Collection of class names.\r\n\t *\r\n\t * @see ./classes.js\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tclasses,\r\n\r\n\t/**\r\n\t * Collection of i18n texts.\r\n\t *\r\n\t * @see ./i18n.js\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\ti18n,\r\n};","/**\r\n * Export state constants.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Splide has been just created.\r\n *\r\n * @type {number}\r\n */\r\nexport const CREATED = 1;\r\n\r\n/**\r\n * All components have been mounted and initialized.\r\n *\r\n * @type {number}\r\n */\r\nexport const MOUNTED = 2;\r\n\r\n/**\r\n * Splide is ready for transition.\r\n *\r\n * @type {number}\r\n */\r\nexport const IDLE = 3;\r\n\r\n/**\r\n * Splide is moving.\r\n *\r\n * @type {number}\r\n */\r\nexport const MOVING = 4;\r\n\r\n/**\r\n * Splide is moving.\r\n *\r\n * @type {number}\r\n */\r\nexport const DESTROYED = 5;","/**\r\n * The main class for applying Splide to an element.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport Event from './core/event';\r\nimport State from './core/state';\r\nimport compose from './core/composer';\r\nimport { error, exist } from './utils/error';\r\nimport { applyStyle } from './utils/dom';\r\nimport { merge, each, values } from './utils/object';\r\nimport { DEFAULTS } from './constants/defaults';\r\nimport * as STATES from './constants/states';\r\n\r\n\r\n/**\r\n * The main class for applying Splide to an element,\r\n * providing some APIs to control the behavior.\r\n */\r\nexport default class Splide {\r\n\t/**\r\n\t * Splide constructor.\r\n\t *\r\n\t * @throws {Error} When the given root element or selector is invalid.\r\n\t *\r\n\t * @param {Element|string}  root       - A selector for a root element or an element itself.\r\n\t * @param {Object}          options    - Optional. Options to change default behaviour.\r\n\t * @param {Object}          Components - Optional. Components.\r\n\t */\r\n\tconstructor( root, options = {}, Components = {} ) {\r\n\t\tthis.root = root instanceof Element ? root : document.querySelector( root );\r\n\t\texist( this.root, 'An invalid element/selector was given.' );\r\n\r\n\t\tthis.Components = null;\r\n\t\tthis.Event      = Event();\r\n\t\tthis.State      = State( STATES.CREATED );\r\n\t\tthis.STATES     = STATES;\r\n\r\n\t\tthis._o = merge( DEFAULTS, options );\r\n\t\tthis._i = 0;\r\n\t\tthis._c = Components;\r\n\t\tthis._e = {}; // Extensions\r\n\t\tthis._t = null; // Transition\r\n\t}\r\n\r\n\t/**\r\n\t * Compose and mount components.\r\n\t *\r\n\t * @param {Object}   Extensions - Optional. Additional components.\r\n\t * @param {function} Transition - Optional. Set a custom transition component.\r\n\t *\r\n\t * @return {Splide|undefined} - This instance or undefined if an exception occurred.\r\n\t */\r\n\tmount( Extensions = this._e, Transition = this._t ) {\r\n\t\t// Reset the state.\r\n\t\tthis.State.set( STATES.CREATED );\r\n\r\n\t\tthis._e = Extensions;\r\n\t\tthis._t = Transition;\r\n\r\n\t\tthis.Components = compose( this, merge( this._c, Extensions ), Transition );\r\n\r\n\t\ttry {\r\n\t\t\teach( this.Components, ( component, key ) => {\r\n\t\t\t\tconst required = component.required;\r\n\r\n\t\t\t\tif ( required === undefined || required ) {\r\n\t\t\t\t\tcomponent.mount && component.mount();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete this.Components[ key ];\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} catch ( e ) {\r\n\t\t\terror( e.message );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { State } = this;\r\n\t\tState.set( STATES.MOUNTED );\r\n\r\n\t\teach( this.Components, component => {\r\n\t\t\tcomponent.mounted && component.mounted();\r\n\t\t} );\r\n\r\n\t\tthis.emit( 'mounted' );\r\n\t\tState.set( STATES.IDLE );\r\n\t\tthis.emit( 'ready' );\r\n\r\n\t\tapplyStyle( this.root, { visibility: 'visible' } );\r\n\r\n\t\tthis\r\n\t\t\t.on( 'move drag', () => State.set( STATES.MOVING ) )\r\n\t\t\t.on( 'moved dragged', () => State.set( STATES.IDLE ) );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Set sync target.\r\n\t *\r\n\t * @param {Splide} splide - A Splide instance.\r\n\t *\r\n\t * @return {Splide} - This instance.\r\n\t */\r\n\tsync( splide ) {\r\n\t\tthis.sibling = splide;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Register callback fired on the given event(s).\r\n\t *\r\n\t * @param {string}   events  - An event name. Use space to separate multiple events.\r\n\t *                             Also, namespace is accepted by dot, such as 'resize.{namespace}'.\r\n\t * @param {function} handler - A callback function.\r\n\t * @param {Element}  elm     - Optional. Native event will be listened to when this arg is provided.\r\n\t * @param {Object}   options - Optional. Options for addEventListener.\r\n\t *\r\n\t * @return {Splide} - This instance.\r\n\t */\r\n\ton( events, handler, elm = null, options = {} ) {\r\n\t\tthis.Event.on( events, handler, elm, options );\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Unsubscribe the given event.\r\n\t *\r\n\t * @param {string}  events - A event name.\r\n\t * @param {Element} elm    - Optional. removeEventListener() will be called when this arg is provided.\r\n\t *\r\n\t * @return {Splide} - This instance.\r\n\t */\r\n\toff( events, elm = null ) {\r\n\t\tthis.Event.off( events, elm );\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Emit an event.\r\n\t *\r\n\t * @param {string} event - An event name.\r\n\t * @param {*}      args  - Any number of arguments passed to handlers.\r\n\t */\r\n\temit( event, ...args ) {\r\n\t\tthis.Event.emit( event, ...args );\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Go to the slide specified by the given control.\r\n\t *\r\n\t * @param {string|number} control - A control pattern.\r\n\t * @param {boolean}       wait    - Optional. Whether to wait for transition.\r\n\t */\r\n\tgo( control, wait = this.options.waitForTransition ) {\r\n\t\tif ( this.State.is( STATES.IDLE ) || ( this.State.is( STATES.MOVING ) && ! wait ) ) {\r\n\t\t\tthis.Components.Controller.go( control, false );\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Verify whether the slider type is the given one or not.\r\n\t *\r\n\t * @param {string} type - A slider type.\r\n\t *\r\n\t * @return {boolean} - True if the slider type is the provided type or false if not.\r\n\t */\r\n\tis( type ) {\r\n\t\treturn type === this._o.type;\r\n\t}\r\n\r\n\t/**\r\n\t * Insert a slide.\r\n\t *\r\n\t * @param {Element|string} slide - A slide element to be added.\r\n\t * @param {number}         index - A slide will be added at the position.\r\n\t */\r\n\tadd( slide, index = -1 ) {\r\n\t\tthis.Components.Elements.add( slide, index, this.refresh.bind( this ) );\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Remove the slide designated by the index.\r\n\t *\r\n\t * @param {number} index - A slide index.\r\n\t */\r\n\tremove( index ) {\r\n\t\tthis.Components.Elements.remove( index );\r\n\t\tthis.refresh();\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Destroy all Slide objects and clones and recreate them again.\r\n\t */\r\n\trefresh() {\r\n\t\tthis.emit( 'refresh:before' ).emit( 'refresh' ).emit( 'resize' );\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Destroy the Splide.\r\n\t * \"Completely\" boolean is mainly for breakpoints.\r\n\t *\r\n\t * @param {boolean} completely - Destroy completely.\r\n\t */\r\n\tdestroy( completely = true ) {\r\n\t\t// Postpone destroy because it should be done after mount.\r\n\t\tif ( this.State.is( STATES.CREATED ) ) {\r\n\t\t\tthis.on( 'ready', () => this.destroy( completely ) );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvalues( this.Components ).reverse().forEach( component => {\r\n\t\t\tcomponent.destroy && component.destroy( completely );\r\n\t\t} );\r\n\r\n\t\tthis.emit( 'destroy', completely );\r\n\r\n\t\t// Destroy all event handlers, including ones for native events.\r\n\t\tthis.Event.destroy();\r\n\t\tthis.State.set( STATES.DESTROYED );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the current slide index.\r\n\t *\r\n\t * @return {number} - The current slide index.\r\n\t // */\r\n\tget index() {\r\n\t\treturn this._i;\r\n\t}\r\n\r\n\t/**\r\n\t * Set the current slide index.\r\n\t *\r\n\t * @param {number|string} index - A new index.\r\n\t */\r\n\tset index( index ) {\r\n\t\tthis._i = parseInt( index );\r\n\t}\r\n\r\n\t/**\r\n\t * Return length of slides.\r\n\t * This is an alias of Elements.length.\r\n\t *\r\n\t * @return {number} - A number of slides.\r\n\t */\r\n\tget length() {\r\n\t\treturn this.Components.Elements.length;\r\n\t}\r\n\r\n\t/**\r\n\t * Return options.\r\n\t *\r\n\t * @return {Object} - Options object.\r\n\t */\r\n\tget options() {\r\n\t\treturn this._o;\r\n\t}\r\n\r\n\t/**\r\n\t * Set options with merging the given object to the current one.\r\n\t *\r\n\t * @param {Object} options - New options.\r\n\t */\r\n\tset options( options ) {\r\n\t\tconst created = this.State.is( STATES.CREATED );\r\n\r\n\t\tif ( ! created ) {\r\n\t\t\tthis.emit( 'update' );\r\n\t\t}\r\n\r\n\t\tthis._o = merge( this._o, options );\r\n\r\n\t\tif ( ! created ) {\r\n\t\t\tthis.emit( 'updated', this._o );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Return the class list.\r\n\t * This is an alias of Splide.options.classList.\r\n\t *\r\n\t * @return {Object} - An object containing all class list.\r\n\t */\r\n\tget classes() {\r\n\t\treturn this._o.classes;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the i18n strings.\r\n\t * This is an alias of Splide.options.i18n.\r\n\t *\r\n\t * @return {Object} - An object containing all i18n strings.\r\n\t */\r\n\tget i18n() {\r\n\t\treturn this._o.i18n;\r\n\t}\r\n}","/**\r\n * The component for initializing options.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { error } from '../../utils/error';\r\nimport { getAttribute } from \"../../utils/dom\";\r\nimport { CREATED } from \"../../constants/states\";\r\n\r\n\r\n/**\r\n * The component for initializing options.\r\n *\r\n * @param {Splide} Splide - A Splide instance.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide ) => {\r\n\t/**\r\n\t * Retrieve options from the data attribute.\r\n\t * Note that IE10 doesn't support dataset property.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst options = getAttribute( Splide.root, 'data-splide' );\r\n\r\n\tif ( options ) {\r\n\t\ttry {\r\n\t\t\tSplide.options = JSON.parse( options );\r\n\t\t} catch ( e ) {\r\n\t\t\terror( e.message );\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tif ( Splide.State.is( CREATED ) ) {\r\n\t\t\t\tSplide.index = Splide.options.start;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n}","/**\r\n * Export layout modes.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Enumerate slides from left to right.\r\n *\r\n * @type {string}\r\n */\r\nexport const LTR = 'ltr';\r\n\r\n/**\r\n * Enumerate slides from right to left.\r\n *\r\n * @type {string}\r\n */\r\nexport const RTL = 'rtl';\r\n\r\n/**\r\n * Enumerate slides in a col.\r\n *\r\n * @type {string}\r\n */\r\nexport const TTB = 'ttb';","/**\r\n * The sub component for handling each slide.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport {\r\n\tchild,\r\n\taddClass,\r\n\tremoveClass,\r\n\thasClass,\r\n\tgetAttribute,\r\n\tsetAttribute,\r\n\tremoveAttribute,\r\n\tapplyStyle,\r\n\tgetRect,\r\n} from '../../utils/dom';\r\nimport { FADE, SLIDE } from '../../constants/types';\r\nimport { STATUS_CLASSES } from '../../constants/classes';\r\nimport { values } from \"../../utils/object\";\r\nimport { pad } from \"../../utils/utils\";\r\nimport { TTB } from \"../../constants/directions\";\r\n\r\n/**\r\n * Events for restoring original styles.\r\n *\r\n * @type {string}\r\n */\r\nconst STYLE_RESTORE_EVENTS = 'update.slide';\r\n\r\n\r\n/**\r\n * The sub component for handling each slide.\r\n *\r\n * @param {Splide}  Splide    - A Splide instance.\r\n * @param {number}  index     - An unique slide index.\r\n * @param {number}  realIndex - Clones should pass a real slide index.\r\n * @param {Element} slide     - A slide element.\r\n *\r\n * @return {Object} - The sub component object.\r\n */\r\nexport default ( Splide, index, realIndex, slide ) => {\r\n\t/**\r\n\t * Whether to update \"is-active\" class before or after transition.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst updateOnMove = Splide.options.updateOnMove;\r\n\r\n\t/**\r\n\t * Events when the slide status is updated.\r\n\t * Append a namespace to remove listeners later.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst STATUS_UPDATE_EVENTS = 'ready.slide updated.slide resized.slide moved.slide'\r\n\t\t+ ( updateOnMove ? ' move.slide' : '' );\r\n\r\n\t/**\r\n\t * Slide sub component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Slide = {\r\n\t\t/**\r\n\t\t * Slide element.\r\n\t\t *\r\n\t\t * @type {Element}\r\n\t\t */\r\n\t\tslide,\r\n\r\n\t\t/**\r\n\t\t * Slide index.\r\n\t\t *\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tindex,\r\n\r\n\t\t/**\r\n\t\t * Real index for clones.\r\n\t\t *\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\trealIndex,\r\n\r\n\t\t/**\r\n\t\t * Container element if available.\r\n\t\t *\r\n\t\t * @type {Element|undefined}\r\n\t\t */\r\n\t\tcontainer: child( slide, Splide.classes.container ),\r\n\r\n\t\t/**\r\n\t\t * Whether this is a cloned slide or not.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tisClone: realIndex > -1,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tif ( ! this.isClone ) {\r\n\t\t\t\tslide.id = `${ Splide.root.id }-slide${ pad( index + 1 ) }`;\r\n\t\t\t}\r\n\r\n\t\t\tSplide\r\n\t\t\t\t.on( STATUS_UPDATE_EVENTS, () => this.update() )\r\n\t\t\t\t.on( STYLE_RESTORE_EVENTS, restoreStyles )\r\n\t\t\t\t.on( 'click', () => Splide.emit( 'click', this ), slide );\r\n\r\n\t\t\t/*\r\n\t\t\t * Add \"is-active\" class to a clone element temporarily\r\n\t\t\t * and it will be removed on \"moved\" event.\r\n\t\t\t */\r\n\t\t\tif ( updateOnMove ) {\r\n\t\t\t\tSplide.on( 'move.slide', newIndex => {\r\n\t\t\t\t\tif ( newIndex === realIndex ) {\r\n\t\t\t\t\t\tupdate( true, false );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure the slide is shown.\r\n\t\t\tapplyStyle( slide, { display: '' } );\r\n\r\n\t\t\t// Hold the original styles.\r\n\t\t\tthis.styles = getAttribute( slide, 'style' ) || '';\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tSplide.off( STATUS_UPDATE_EVENTS ).off( STYLE_RESTORE_EVENTS ).off( 'click', slide );\r\n\t\t\tremoveClass( slide, values( STATUS_CLASSES ) );\r\n\t\t\trestoreStyles();\r\n\t\t\tremoveAttribute( this.container, 'style' );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Update active and visible status.\r\n\t\t */\r\n\t\tupdate() {\r\n\t\t\tupdate( this.isActive(), false );\r\n\t\t\tupdate( this.isVisible(), true );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Check whether this slide is active or not.\r\n\t\t *\r\n\t\t * @return {boolean} - True if the slide is active or false if not.\r\n\t\t */\r\n\t\tisActive() {\r\n\t\t\treturn Splide.index === index;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Check whether this slide is visible in the viewport or not.\r\n\t\t *\r\n\t\t * @return {boolean} - True if the slide is visible or false if not.\r\n\t\t */\r\n\t\tisVisible() {\r\n\t\t\tconst active = this.isActive();\r\n\r\n\t\t\tif ( Splide.is( FADE ) || active ) {\r\n\t\t\t\treturn active;\r\n\t\t\t}\r\n\r\n\t\t\tconst { ceil }  = Math;\r\n\t\t\tconst trackRect = getRect( Splide.Components.Elements.track );\r\n\t\t\tconst slideRect = getRect( slide );\r\n\r\n\t\t\tif ( Splide.options.direction === TTB ) {\r\n\t\t\t\treturn trackRect.top <= slideRect.top && slideRect.bottom <= ceil( trackRect.bottom );\r\n\t\t\t}\r\n\r\n\t\t\treturn trackRect.left <= slideRect.left && slideRect.right <= ceil( trackRect.right );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Calculate how far this slide is from another slide and\r\n\t\t * return true if the distance is within the given number.\r\n\t\t *\r\n\t\t * @param {number} from   - Index of a target slide.\r\n\t\t * @param {number} within - True if the slide is within this number.\r\n\t\t *\r\n\t\t * @return {boolean} - True if the slide is within the number or false otherwise.\r\n\t\t */\r\n\t\tisWithin( from, within ) {\r\n\t\t\tlet diff = Math.abs( from - index );\r\n\r\n\t\t\tif ( ! Splide.is( SLIDE ) && ! this.isClone ) {\r\n\t\t\t\tdiff = Math.min( diff, Splide.length - diff );\r\n\t\t\t}\r\n\r\n\t\t\treturn diff < within;\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Update classes for activity or visibility.\r\n\t *\r\n\t * @param {boolean} active        - Is active/visible or not.\r\n\t * @param {boolean} forVisibility - Toggle classes for activity or visibility.\r\n\t */\r\n\tfunction update( active, forVisibility ) {\r\n\t\tconst type      = forVisibility ? 'visible' : 'active';\r\n\t\tconst className = STATUS_CLASSES[ type ];\r\n\r\n\t\tif ( active ) {\r\n\t\t\taddClass( slide, className );\r\n\t\t\tSplide.emit( `${ type }`, Slide );\r\n\t\t} else {\r\n\t\t\tif ( hasClass( slide, className ) ) {\r\n\t\t\t\tremoveClass( slide, className );\r\n\t\t\t\tSplide.emit( `${ forVisibility ? 'hidden' : 'inactive' }`, Slide );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Restore the original styles.\r\n\t */\r\n\tfunction restoreStyles() {\r\n\t\tsetAttribute( slide, 'style', Slide.styles );\r\n\t}\r\n\r\n\treturn Slide;\r\n}","/**\r\n * The component for main elements.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport Slide from './slide';\r\nimport {\r\n\tfind,\r\n\taddClass,\r\n\tremoveClass,\r\n\tchild,\r\n\tchildren,\r\n\tremove,\r\n\tappend,\r\n\tbefore,\r\n\tdomify,\r\n\tapplyStyle,\r\n\tloaded,\r\n} from '../../utils/dom';\r\nimport { exist } from '../../utils/error';\r\nimport { pad } from \"../../utils/utils\";\r\nimport { STATUS_CLASSES } from \"../../constants/classes\";\r\n\r\n\r\n/**\r\n * The property name for UID stored in a window object.\r\n *\r\n * @type {string}\r\n */\r\nconst UID_NAME = 'uid';\r\n\r\n\r\n/**\r\n * The component for main elements.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Hold the root element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tconst root = Splide.root;\r\n\r\n\t/**\r\n\t * Hold the class list.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst classes = Splide.classes;\r\n\r\n\t/**\r\n\t * Store Slide objects.\r\n\t *\r\n\t * @type {Array}\r\n\t */\r\n\tlet Slides = [];\r\n\r\n\t/*\r\n\t * Assign unique ID to the root element if it doesn't have the one.\r\n\t * Note that IE doesn't support padStart() to fill the uid by 0.\r\n\t */\r\n\tif ( ! root.id ) {\r\n\t\twindow.splide = window.splide || {};\r\n\t\tlet uid = window.splide[ UID_NAME ] || 0;\r\n\t\twindow.splide[ UID_NAME ] = ++uid;\r\n\t\troot.id = `splide${ pad( uid ) }`;\r\n\t}\r\n\r\n\t/**\r\n\t * Elements component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Elements = {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t * Collect main elements and store them as member properties.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tthis.init();\r\n\r\n\t\t\tSplide\r\n\t\t\t\t.on( 'refresh', () => {\r\n\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t} ).on( 'updated', () => {\r\n\t\t\t\t\tremoveClass( root, getClasses() );\r\n\t\t\t\t\taddClass( root, getClasses() );\r\n\t\t\t\t} );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tSlides.forEach( Slide => { Slide.destroy() } );\r\n\t\t\tSlides = [];\r\n\t\t\tremoveClass( root, getClasses() );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Initialization.\r\n\t\t */\r\n\t\tinit() {\r\n\t\t\tcollect();\r\n\t\t\taddClass( root, getClasses() );\r\n\r\n\t\t\tthis.slides.forEach( ( slide, index ) => {\r\n\t\t\t\tthis.register( slide, index, -1 );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Register a slide to create a Slide object and handle its behavior.\r\n\t\t *\r\n\t\t * @param {Element} slide     - A slide element.\r\n\t\t * @param {number}  index     - A unique index. This can be negative.\r\n\t\t * @param {number}  realIndex - A real index for clones. Set -1 for real slides.\r\n\t\t */\r\n\t\tregister( slide, index, realIndex ) {\r\n\t\t\tconst SlideObject = Slide( Splide, index, realIndex, slide );\r\n\t\t\tSlideObject.mount();\r\n\t\t\tSlides.push( SlideObject );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the Slide object designated by the index.\r\n\t\t * Note that \"find\" is not supported by IE.\r\n\t\t *\r\n\t\t * @return {Object|undefined} - A Slide object if available. Undefined if not.\r\n\t\t */\r\n\t\tgetSlide( index ) {\r\n\t\t\treturn Slides.filter( Slide => Slide.index === index )[0];\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return all Slide objects.\r\n\t\t *\r\n\t\t * @param {boolean} includeClones - Whether to include cloned slides or not.\r\n\t\t *\r\n\t\t * @return {Object[]} - Slide objects.\r\n\t\t */\r\n\t\tgetSlides( includeClones ) {\r\n\t\t\treturn includeClones ? Slides : Slides.filter( Slide => ! Slide.isClone );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return Slide objects belonging to the given page.\r\n\t\t *\r\n\t\t * @param {number} page - A page number.\r\n\t\t *\r\n\t\t * @return {Object[]} - An array containing Slide objects.\r\n\t\t */\r\n\t\tgetSlidesByPage( page ) {\r\n\t\t\tconst idx     = Components.Controller.toIndex( page );\r\n\t\t\tconst options = Splide.options;\r\n\t\t\tconst max     = options.focus !== false ? 1 : options.perPage;\r\n\r\n\t\t\treturn Slides.filter( ( { index } ) => idx <= index && index < idx + max );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Insert a slide to a slider.\r\n\t\t * Need to refresh Splide after adding a slide.\r\n\t\t *\r\n\t\t * @param {Node|string} slide    - A slide element to be added.\r\n\t\t * @param {number}      index    - A slide will be added at the position.\r\n\t\t * @param {Function}    callback - Called right after the slide is added to the DOM tree.\r\n\t\t */\r\n\t\tadd( slide, index, callback ) {\r\n\t\t\tif ( typeof slide === 'string' ) {\r\n\t\t\t\tslide = domify( slide );\r\n\t\t\t}\r\n\r\n\t\t\tif ( slide instanceof Element ) {\r\n\t\t\t\tconst ref = this.slides[ index ];\r\n\r\n\t\t\t\t// This will be removed in mount() of a Slide component.\r\n\t\t\t\tapplyStyle( slide, { display: 'none' } );\r\n\r\n\t\t\t\tif ( ref ) {\r\n\t\t\t\t\tbefore( slide, ref );\r\n\t\t\t\t\tthis.slides.splice( index, 0, slide );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tappend( this.list, slide );\r\n\t\t\t\t\tthis.slides.push( slide );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloaded( slide, () => { callback && callback( slide ) } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove a slide from a slider.\r\n\t\t * Need to refresh Splide after removing a slide.\r\n\t\t *\r\n\t\t * @param index - Slide index.\r\n\t\t */\r\n\t\tremove( index ) {\r\n\t\t\tremove( this.slides.splice( index, 1 )[0] );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Trigger the provided callback for each Slide object.\r\n\t\t *\r\n\t\t * @param {Function} callback - A callback function. The first argument will be the Slide object.\r\n\t\t */\r\n\t\teach( callback ) {\r\n\t\t\tSlides.forEach( callback );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return slides length without clones.\r\n\t\t *\r\n\t\t * @return {number} - Slide length.\r\n\t\t */\r\n\t\tget length() {\r\n\t\t\treturn this.slides.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return \"SlideObjects\" length including clones.\r\n\t\t *\r\n\t\t * @return {number} - Slide length including clones.\r\n\t\t */\r\n\t\tget total() {\r\n\t\t\treturn Slides.length;\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Collect elements.\r\n\t */\r\n\tfunction collect() {\r\n\t\tElements.slider = child( root, classes.slider );\r\n\t\tElements.track  = find( root, `.${ classes.track }` );\r\n\t\tElements.list   = child( Elements.track, classes.list );\r\n\r\n\t\texist( Elements.track && Elements.list, 'Track or list was not found.' );\r\n\r\n\t\tElements.slides = children( Elements.list, classes.slide );\r\n\r\n\t\tconst arrows = findParts( classes.arrows );\r\n\t\tElements.arrows = {\r\n\t\t\tprev: find( arrows, `.${ classes.prev }` ),\r\n\t\t\tnext: find( arrows, `.${ classes.next }` ),\r\n\t\t};\r\n\r\n\t\tconst autoplay = findParts( classes.autoplay );\r\n\t\tElements.bar   = find( findParts( classes.progress ), `.${ classes.bar }` );\r\n\t\tElements.play  = find( autoplay, `.${ classes.play }` );\r\n\t\tElements.pause = find( autoplay, `.${ classes.pause }` );\r\n\r\n\t\tElements.track.id = Elements.track.id || `${ root.id }-track`;\r\n\t\tElements.list.id  = Elements.list.id || `${ root.id }-list`;\r\n\t}\r\n\r\n\t/**\r\n\t * Return class names for the root element.\r\n\t */\r\n\tfunction getClasses() {\r\n\t\tconst rootClass = classes.root;\r\n\t\tconst options   = Splide.options;\r\n\r\n\t\treturn [\r\n\t\t\t`${ rootClass }--${ options.type }`,\r\n\t\t\t`${ rootClass }--${ options.direction }`,\r\n\t\t\toptions.drag ? `${ rootClass }--draggable` : '',\r\n\t\t\toptions.isNavigation ? `${ rootClass }--nav` : '',\r\n\t\t\tSTATUS_CLASSES.active,\r\n\t\t];\r\n\t}\r\n\r\n\t/**\r\n\t * Find parts only from children of the root or track.\r\n\t *\r\n\t * @return {Element} - A found element or undefined.\r\n\t */\r\n\tfunction findParts( className ) {\r\n\t\treturn child( root, className ) || child( Elements.slider, className );\r\n\t}\r\n\r\n\treturn Elements;\r\n}","/**\r\n * The component for controlling the track.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { LOOP } from \"../../constants/types\";\r\nimport { RTL } from '../../constants/directions';\r\nimport { between } from '../../utils/utils';\r\n\r\nconst { floor } = Math;\r\n\r\n\r\n/**\r\n * The component for controlling the track.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Store current options.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet options;\r\n\r\n\t/**\r\n\t * True if the slide is LOOP mode.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tlet isLoop;\r\n\r\n\t/**\r\n\t * Controller component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Controller = {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\toptions = Splide.options;\r\n\t\t\tisLoop  = Splide.is( LOOP );\r\n\t\t\tbind();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Make track run by the given control.\r\n\t\t * - \"+{i}\" : Increment the slide index by i.\r\n\t\t * - \"-{i}\" : Decrement the slide index by i.\r\n\t\t * - \"{i}\"  : Go to the slide whose index is i.\r\n\t\t * - \">\"    : Go to next page.\r\n\t\t * - \"<\"    : Go to prev page.\r\n\t\t * - \">{i}\" : Go to page i.\r\n\t\t *\r\n\t\t * @param {string|number} control  - A control pattern.\r\n\t\t * @param {boolean}       silently - Go to the destination without event emission.\r\n\t\t */\r\n\t\tgo( control, silently ) {\r\n\t\t\tconst destIndex = this.trim( this.parse( control ) );\r\n\t\t\tComponents.Track.go( destIndex, this.rewind( destIndex ), silently );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Parse the given control and return the destination index for the track.\r\n\t\t *\r\n\t\t * @param {string} control - A control target pattern.\r\n\t\t *\r\n\t\t * @return {number} - A parsed target.\r\n\t\t */\r\n\t\tparse( control ) {\r\n\t\t\tlet index = Splide.index;\r\n\r\n\t\t\tconst matches   = String( control ).match( /([+\\-<>]+)(\\d+)?/ );\r\n\t\t\tconst indicator = matches ? matches[1] : '';\r\n\t\t\tconst number    = matches ? parseInt( matches[2] ) : 0;\r\n\r\n\t\t\tswitch ( indicator ) {\r\n\t\t\t\tcase '+':\r\n\t\t\t\t\tindex += number || 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase '-':\r\n\t\t\t\t\tindex -= number || 1;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase '>':\r\n\t\t\t\tcase '<':\r\n\t\t\t\t\tindex = parsePage( number, index, indicator === '<' );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tindex = parseInt( control );\r\n\t\t\t}\r\n\r\n\t\t\treturn index;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Compute index from the given page number.\r\n\t\t *\r\n\t\t * @param {number} page - Page number.\r\n\t\t *\r\n\t\t * @return {number} - A computed page number.\r\n\t\t */\r\n\t\ttoIndex( page ) {\r\n\t\t\tif ( hasFocus() ) {\r\n\t\t\t\treturn page;\r\n\t\t\t}\r\n\r\n\t\t\tconst length  = Splide.length;\r\n\t\t\tconst perPage = options.perPage;\r\n\r\n\t\t\tlet index = page * perPage;\r\n\t\t\tindex = index - ( this.pageLength * perPage - length ) * floor( index / length );\r\n\r\n\t\t\t// Adjustment for the last page.\r\n\t\t\tif ( length - perPage <= index && index < length ) {\r\n\t\t\t\tindex = length - perPage;\r\n\t\t\t}\r\n\r\n\t\t\treturn index;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Compute page number from the given slide index.\r\n\t\t *\r\n\t\t * @param {number} index - Slide index.\r\n\t\t *\r\n\t\t * @return {number} - A computed page number.\r\n\t\t */\r\n\t\ttoPage( index ) {\r\n\t\t\tif ( hasFocus() ) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\r\n\t\t\tconst length  = Splide.length;\r\n\t\t\tconst perPage = options.perPage;\r\n\r\n\t\t\t// Make the last \"perPage\" number of slides belong to the last page.\r\n\t\t\tif ( length - perPage <= index && index < length ) {\r\n\t\t\t\treturn floor( ( length - 1 ) / perPage );\r\n\t\t\t}\r\n\r\n\t\t\treturn floor( index / perPage );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Trim the given index according to the current mode.\r\n\t\t * Index being returned could be less than 0 or greater than the length in Loop mode.\r\n\t\t *\r\n\t\t * @param {number} index - An index being trimmed.\r\n\t\t *\r\n\t\t * @return {number} - A trimmed index.\r\n\t\t */\r\n\t\ttrim( index ) {\r\n\t\t\tif ( ! isLoop ) {\r\n\t\t\t\tindex = options.rewind ? this.rewind( index ) : between( index, 0, this.edgeIndex );\r\n\t\t\t}\r\n\r\n\t\t\treturn index;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Rewind the given index if it's out of range.\r\n\t\t *\r\n\t\t * @param {number} index - An index.\r\n\t\t *\r\n\t\t * @return {number} - A rewound index.\r\n\t\t */\r\n\t\trewind( index ) {\r\n\t\t\tconst edge = this.edgeIndex;\r\n\r\n\t\t\tif ( isLoop ) {\r\n\t\t\t\twhile( index > edge ) {\r\n\t\t\t\t\tindex -= edge + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twhile( index < 0 ) {\r\n\t\t\t\t\tindex += edge + 1;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ( index > edge ) {\r\n\t\t\t\t\tindex = 0;\r\n\t\t\t\t} else if ( index < 0 ) {\r\n\t\t\t\t\tindex = edge;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn index;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Check if the direction is \"rtl\" or not.\r\n\t\t *\r\n\t\t * @return {boolean} - True if \"rtl\" or false if not.\r\n\t\t */\r\n\t\tisRtl() {\r\n\t\t\treturn options.direction === RTL;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the page length.\r\n\t\t *\r\n\t\t * @return {number} - Max page number.\r\n\t\t */\r\n\t\tget pageLength() {\r\n\t\t\tconst length = Splide.length;\r\n\t\t\treturn hasFocus() ? length : Math.ceil( length / options.perPage );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the edge index.\r\n\t\t *\r\n\t\t * @return {number} - Edge index.\r\n\t\t */\r\n\t\tget edgeIndex() {\r\n\t\t\tconst length = Splide.length;\r\n\r\n\t\t\tif ( ! length ) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( hasFocus() || options.isNavigation || isLoop ) {\r\n\t\t\t\treturn length - 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn length - options.perPage;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the index of the previous slide.\r\n\t\t *\r\n\t\t * @return {number} - The index of the previous slide if available. -1 otherwise.\r\n\t\t */\r\n\t\tget prevIndex() {\r\n\t\t\tlet prev = Splide.index - 1;\r\n\r\n\t\t\tif ( isLoop || options.rewind ) {\r\n\t\t\t\tprev = this.rewind( prev );\r\n\t\t\t}\r\n\r\n\t\t\treturn prev > -1 ? prev : -1;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the index of the next slide.\r\n\t\t *\r\n\t\t * @return {number} - The index of the next slide if available. -1 otherwise.\r\n\t\t */\r\n\t\tget nextIndex() {\r\n\t\t\tlet next = Splide.index + 1;\r\n\r\n\t\t\tif ( isLoop || options.rewind ) {\r\n\t\t\t\tnext = this.rewind( next );\r\n\t\t\t}\r\n\r\n\t\t\treturn ( Splide.index < next && next <= this.edgeIndex ) || next === 0 ? next : -1;\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Listen to some events.\r\n\t */\r\n\tfunction bind() {\r\n\t\tSplide\r\n\t\t\t.on( 'move', newIndex => { Splide.index = newIndex } )\r\n\t\t\t.on( 'updated refresh', newOptions => {\r\n\t\t\t\toptions = newOptions || options;\r\n\t\t\t\tSplide.index = between( Splide.index, 0, Controller.edgeIndex );\r\n\t\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Verify if the focus option is available or not.\r\n\t *\r\n\t * @return {boolean} - True if a slider has the focus option.\r\n\t */\r\n\tfunction hasFocus() {\r\n\t\treturn options.focus !== false;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the next or previous page index computed by the page number and current index.\r\n\t *\r\n\t * @param {number}  number - Specify the page number.\r\n\t * @param {number}  index  - Current index.\r\n\t * @param {boolean} prev   - Prev or next.\r\n\t *\r\n\t * @return {number} - Slide index.\r\n\t */\r\n\tfunction parsePage( number, index, prev ) {\r\n\t\tif ( number > -1 ) {\r\n\t\t\treturn Controller.toIndex( number );\r\n\t\t}\r\n\r\n\t\tconst perMove = options.perMove;\r\n\t\tconst sign    = prev ? -1 : 1;\r\n\r\n\t\tif ( perMove ) {\r\n\t\t\treturn index + perMove * sign;\r\n\t\t}\r\n\r\n\t\treturn Controller.toIndex( Controller.toPage( index ) + sign );\r\n\t}\r\n\r\n\treturn Controller;\r\n}","/**\r\n * The component for moving list in the track.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle, getRect } from '../../utils/dom';\r\nimport { between } from \"../../utils/utils\";\r\nimport { LOOP, FADE } from '../../constants/types';\r\nimport { RTL, TTB } from '../../constants/directions';\r\nimport { MOVING } from \"../../constants/states\";\r\n\r\nconst { abs } = Math;\r\n\r\n\r\n/**\r\n * The component for moving list in the track.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Hold the Layout component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet Layout;\r\n\r\n\t/**\r\n\t * Hold the Layout component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet Elements;\r\n\r\n\t/**\r\n\t * Store the list element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tlet list;\r\n\r\n\t/**\r\n\t * Whether the current direction is vertical or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst isVertical = Splide.options.direction === TTB;\r\n\r\n\t/**\r\n\t * Whether the slider type is FADE or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst isFade = Splide.is( FADE );\r\n\r\n\t/**\r\n\t * Whether the slider direction is RTL or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst isRTL = Splide.options.direction === RTL;\r\n\r\n\t/**\r\n\t * This will be true while transitioning from the last index to the first one.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tlet isLoopPending = false;\r\n\r\n\t/**\r\n\t * Sign for the direction. Only RTL mode uses the positive sign.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tconst sign = isRTL ? 1 : -1;\r\n\r\n\t/**\r\n\t * Track component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Track = {\r\n\t\t/**\r\n\t\t * Make public the sign defined locally.\r\n\t\t *\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tsign,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tElements = Components.Elements;\r\n\t\t\tLayout   = Components.Layout;\r\n\t\t\tlist     = Elements.list;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called after the component is mounted.\r\n\t\t * The resize event must be registered after the Layout's one is done.\r\n\t\t */\r\n\t\tmounted() {\r\n\t\t\tif ( ! isFade ) {\r\n\t\t\t\tthis.jump( 0 );\r\n\t\t\t\tSplide.on( 'mounted resize updated', () => { this.jump( Splide.index ) } );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Go to the given destination index.\r\n\t\t * After arriving there, the track is jump to the new index without animation, mainly for loop mode.\r\n\t\t *\r\n\t\t * @param {number}  destIndex - A destination index.\r\n\t\t *                              This can be negative or greater than slides length for reaching clones.\r\n\t\t * @param {number}  newIndex  - An actual new index. They are always same in Slide and Rewind mode.\r\n\t\t * @param {boolean} silently  - If true, suppress emitting events.\r\n\t\t */\r\n\t\tgo( destIndex, newIndex, silently ) {\r\n\t\t\tconst newPosition = getTrimmedPosition( destIndex );\r\n\t\t\tconst prevIndex   = Splide.index;\r\n\r\n\t\t\t// Prevent any actions while transitioning from the last index to the first one for jump.\r\n\t\t\tif ( Splide.State.is( MOVING ) && isLoopPending ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tisLoopPending = destIndex !== newIndex;\r\n\r\n\t\t\tif ( ! silently ) {\r\n\t\t\t\tSplide.emit( 'move', newIndex, prevIndex, destIndex );\r\n\t\t\t}\r\n\r\n\t\t\tif ( Math.abs( newPosition - this.position ) >= 1 || isFade ) {\r\n\t\t\t\tComponents.Transition.start( destIndex, newIndex, prevIndex, this.toCoord( newPosition ), () => {\r\n\t\t\t\t\tonTransitionEnd( destIndex, newIndex, prevIndex, silently );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tif ( destIndex !== prevIndex && Splide.options.trimSpace === 'move' ) {\r\n\t\t\t\t\tComponents.Controller.go( destIndex + destIndex - prevIndex, silently );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonTransitionEnd( destIndex, newIndex, prevIndex, silently );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Move the track to the specified index.\r\n\t\t *\r\n\t\t * @param {number} index - A destination index where the track jumps.\r\n\t\t */\r\n\t\tjump( index ) {\r\n\t\t\tthis.translate( getTrimmedPosition( index ) );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set the list position by CSS translate property.\r\n\t\t *\r\n\t\t * @param {number} position - A new position value.\r\n\t\t */\r\n\t\ttranslate( position ) {\r\n\t\t\tapplyStyle( list, { transform: `translate${ isVertical ? 'Y' : 'X' }(${ position }px)` } );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Cancel the transition and set the list position.\r\n\t\t * Also, loop the slider if necessary.\r\n\t\t */\r\n\t\tcancel() {\r\n\t\t\tif ( Splide.is( LOOP ) ) {\r\n\t\t\t\tthis.shift();\r\n\t\t\t} else {\r\n\t\t\t\t// Ensure the current position.\r\n\t\t\t\tthis.translate( this.position );\r\n\t\t\t}\r\n\r\n\t\t\tapplyStyle( list, { transition: '' } );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Shift the slider if it exceeds borders on the edge.\r\n\t\t */\r\n\t\tshift() {\r\n\t\t\tlet position = abs( this.position );\r\n\r\n\t\t\tconst left      = abs( this.toPosition( 0 ) );\r\n\t\t\tconst right     = abs( this.toPosition( Splide.length ) );\r\n\t\t\tconst innerSize = right - left;\r\n\r\n\t\t\tif ( position < left ) {\r\n\t\t\t\tposition += innerSize;\r\n\t\t\t} else if ( position > right ) {\r\n\t\t\t\tposition -= innerSize;\r\n\t\t\t}\r\n\r\n\t\t\tthis.translate( sign * position );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Trim redundant spaces on the left or right edge if necessary.\r\n\t\t *\r\n\t\t * @param {number} position - Position value to be trimmed.\r\n\t\t *\r\n\t\t * @return {number} - Trimmed position.\r\n\t\t */\r\n\t\ttrim( position ) {\r\n\t\t\tif ( ! Splide.options.trimSpace || Splide.is( LOOP ) ) {\r\n\t\t\t\treturn position;\r\n\t\t\t}\r\n\r\n\t\t\tconst edge = sign * ( Layout.totalSize() - Layout.size - Layout.gap );\r\n\t\t\treturn between( position, edge, 0 );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Calculate the closest slide index from the given position.\r\n\t\t *\r\n\t\t * @param {number} position - A position converted to an slide index.\r\n\t\t *\r\n\t\t * @return {number} - The closest slide index.\r\n\t\t */\r\n\t\ttoIndex( position ) {\r\n\t\t\tlet index = 0;\r\n\t\t\tlet minDistance = Infinity;\r\n\r\n\t\t\tElements.getSlides( true ).forEach( Slide => {\r\n\t\t\t\tconst slideIndex = Slide.index;\r\n\t\t\t\tconst distance   = abs( this.toPosition( slideIndex ) - position );\r\n\r\n\t\t\t\tif ( distance < minDistance ) {\r\n\t\t\t\t\tminDistance = distance;\r\n\t\t\t\t\tindex = slideIndex;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\treturn index;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return coordinates object by the given position.\r\n\t\t *\r\n\t\t * @param {number} position - A position value.\r\n\t\t *\r\n\t\t * @return {Object} - A coordinates object.\r\n\t\t */\r\n\t\ttoCoord( position ) {\r\n\t\t\treturn {\r\n\t\t\t\tx: isVertical ? 0 : position,\r\n\t\t\t\ty: isVertical ? position : 0,\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Calculate the track position by a slide index.\r\n\t\t *\r\n\t\t * @param {number} index - Slide index.\r\n\t\t *\r\n\t\t * @return {Object} - Calculated position.\r\n\t\t */\r\n\t\ttoPosition( index ) {\r\n\t\t\tconst position = Layout.totalSize( index ) - Layout.slideSize( index ) - Layout.gap;\r\n\t\t\treturn sign * ( position + this.offset( index ) );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the current offset value, considering direction.\r\n\t\t *\r\n\t\t * @return {number} - Offset amount.\r\n\t\t */\r\n\t\toffset( index ) {\r\n\t\t\tconst { focus } = Splide.options;\r\n\t\t\tconst slideSize = Layout.slideSize( index );\r\n\r\n\t\t\tif ( focus === 'center' ) {\r\n\t\t\t\treturn -( Layout.size - slideSize ) / 2;\r\n\t\t\t}\r\n\r\n\t\t\treturn -( parseInt( focus ) || 0 ) * ( slideSize + Layout.gap );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the current position.\r\n\t\t * This returns the correct position even while transitioning by CSS.\r\n\t\t *\r\n\t\t * @return {number} - Current position.\r\n\t\t */\r\n\t\tget position() {\r\n\t\t\tconst prop = isVertical ? 'top' : isRTL ? 'right' : 'left';\r\n\t\t\treturn getRect( list )[ prop ] - ( getRect( Elements.track )[ prop ] - Layout.padding[ prop ] * sign );\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Called whenever slides arrive at a destination.\r\n\t *\r\n\t * @param {number}  destIndex - A destination index.\r\n\t * @param {number}  newIndex  - A new index.\r\n\t * @param {number}  prevIndex - A previous index.\r\n\t * @param {boolean} silently  - If true, suppress emitting events.\r\n\t */\r\n\tfunction onTransitionEnd( destIndex, newIndex, prevIndex, silently ) {\r\n\t\tapplyStyle( list, { transition: '' } );\r\n\t\tisLoopPending = false;\r\n\r\n\t\tif ( ! isFade ) {\r\n\t\t\tTrack.jump( newIndex );\r\n\t\t}\r\n\r\n\t\tif ( ! silently ) {\r\n\t\t\tSplide.emit( 'moved', newIndex, prevIndex, destIndex );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Convert index to the trimmed position.\r\n\t *\r\n\t * @return {number} - Trimmed position.\r\n\t */\r\n\tfunction getTrimmedPosition( index ) {\r\n\t\treturn Track.trim( Track.toPosition( index ) );\r\n\t}\r\n\r\n\treturn Track;\r\n}","/**\r\n * The component for cloning some slides for \"loop\" mode of the track.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { addClass, removeAttribute, append, before, remove } from '../../utils/dom';\r\nimport { LOOP } from '../../constants/types';\r\nimport { TTB } from \"../../constants/directions\";\r\nimport { toPixel } from \"../../utils/utils\";\r\n\r\n\r\n/**\r\n * The component for cloning some slides for \"loop\" mode of the track.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Store information of all clones.\r\n\t *\r\n\t * @type {Array}\r\n\t */\r\n\tlet clones = [];\r\n\r\n\t/**\r\n\t * Store the current clone count on one side.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tlet cloneCount = 0;\r\n\r\n\t/**\r\n\t * Keep Elements component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Clones component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Clones = {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tif ( Splide.is( LOOP ) ) {\r\n\t\t\t\tinit();\r\n\r\n\t\t\t\tSplide\r\n\t\t\t\t\t.on( 'refresh:before', () => { this.destroy() } )\r\n\t\t\t\t\t.on( 'refresh', init )\r\n\t\t\t\t\t.on( 'resize', () => {\r\n\t\t\t\t\t\tif ( cloneCount !== getCloneCount() ) {\r\n\t\t\t\t\t\t\t// Destroy before refresh not to collect clones by the Elements component.\r\n\t\t\t\t\t\t\tthis.destroy();\r\n\t\t\t\t\t\t\tSplide.refresh();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tremove( clones );\r\n\t\t\tclones = [];\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return all clones.\r\n\t\t *\r\n\t\t * @return {Element[]} - Cloned elements.\r\n\t\t */\r\n\t\tget clones() {\r\n\t\t\treturn clones;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return clone length.\r\n\t\t *\r\n\t\t * @return {number} - A length of clones.\r\n\t\t */\r\n\t\tget length() {\r\n\t\t\treturn clones.length;\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Initialization.\r\n\t */\r\n\tfunction init() {\r\n\t\tClones.destroy();\r\n\t\tcloneCount = getCloneCount();\r\n\t\tgenerateClones( cloneCount );\r\n\t}\r\n\r\n\t/**\r\n\t * Generate and append/prepend clones.\r\n\t *\r\n\t * @param {number} count - The half number of clones.\r\n\t */\r\n\tfunction generateClones( count ) {\r\n\t\tconst { length, register } = Elements;\r\n\r\n\t\tif ( length ) {\r\n\t\t\tlet slides = Elements.slides;\r\n\r\n\t\t\twhile ( slides.length < count ) {\r\n\t\t\t\tslides = slides.concat( slides );\r\n\t\t\t}\r\n\r\n\t\t\t// Clones after the last element.\r\n\t\t\tslides.slice( 0, count ).forEach( ( elm, index ) => {\r\n\t\t\t\tconst clone = cloneDeeply( elm );\r\n\t\t\t\tappend( Elements.list, clone );\r\n\t\t\t\tclones.push( clone );\r\n\r\n\t\t\t\tregister( clone, index + length, index % length );\r\n\t\t\t} );\r\n\r\n\t\t\t// Clones before the first element.\r\n\t\t\tslides.slice( -count ).forEach( ( elm, index ) => {\r\n\t\t\t\tconst clone = cloneDeeply( elm );\r\n\t\t\t\tbefore( clone, slides[0] );\r\n\t\t\t\tclones.push( clone );\r\n\r\n\t\t\t\tregister( clone, index - count, ( length + index - count % length ) % length );\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Return half count of clones to be generated.\r\n\t * Clone count is determined by:\r\n\t * - \"clones\" value in the options.\r\n\t * - Number of slides that can be placed in a view in \"fixed\" mode.\r\n\t * - Max pages a flick action can move.\r\n\t * - Whether the slide length is enough for perPage.\r\n\t *\r\n\t * @return {number} - Count for clones.\r\n\t */\r\n\tfunction getCloneCount() {\r\n\t\tconst options = Splide.options;\r\n\r\n\t\tif ( options.clones ) {\r\n\t\t\treturn options.clones;\r\n\t\t}\r\n\r\n\t\t// Use the slide length in autoWidth mode because the number cannot be calculated.\r\n\t\tlet baseCount = options.autoWidth || options.autoHeight ? Elements.length : options.perPage;\r\n\r\n\t\tconst dimension = options.direction === TTB ? 'Height' : 'Width';\r\n\t\tconst fixedSize = toPixel( Splide.root, options[ `fixed${ dimension }` ] );\r\n\r\n\t\tif ( fixedSize ) {\r\n\t\t\t// Roughly calculate the count. This needs not to be strict.\r\n\t\t\tbaseCount = Math.ceil( Elements.track[ `client${ dimension }` ] / fixedSize );\r\n\t\t}\r\n\r\n\t\treturn baseCount * ( options.drag ? options.flickMaxPages + 1 : 1 );\r\n\t}\r\n\r\n\t/**\r\n\t * Clone deeply the given element.\r\n\t *\r\n\t * @param {Element} elm - An element being duplicated.\r\n\t *\r\n\t * @return {Node} - A cloned node(element).\r\n\t */\r\n\tfunction cloneDeeply( elm ) {\r\n\t\tconst clone = elm.cloneNode( true );\r\n\t\taddClass( clone, Splide.classes.clone );\r\n\r\n\t\t// ID should not be duplicated.\r\n\t\tremoveAttribute( clone, 'id' );\r\n\t\treturn clone;\r\n\t}\r\n\r\n\treturn Clones;\r\n}","/**\r\n * The resolver component for horizontal layout.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle, getRect } from \"../../../utils/dom\";\r\nimport { unit, toPixel } from \"../../../utils/utils\";\r\nimport { RTL } from '../../../constants/directions';\r\n\r\n\r\n/**\r\n * The resolver component for horizontal layout.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The resolver object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Keep the Elements component.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Keep the root element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tconst root = Splide.root;\r\n\r\n\t/**\r\n\t * Keep the track element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tlet track;\r\n\r\n\t/**\r\n\t * Keep the latest options.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tlet options = Splide.options;\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Margin property name.\r\n\t\t *\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tmargin: 'margin' + ( options.direction === RTL ? 'Left' : 'Right' ),\r\n\r\n\t\t/**\r\n\t\t * Always 0 because the height will be determined by inner contents.\r\n\t\t *\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\theight: 0,\r\n\r\n\t\t/**\r\n\t\t * Initialization.\r\n\t\t */\r\n\t\tinit() {\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Resize gap and padding.\r\n\t\t * This must be called on init.\r\n\t\t */\r\n\t\tresize() {\r\n\t\t\toptions = Splide.options;\r\n\t\t\ttrack   = Elements.track;\r\n\r\n\t\t\tthis.gap = toPixel( root, options.gap );\r\n\r\n\t\t\tconst padding = options.padding;\r\n\t\t\tconst left    = toPixel( root, padding.left || padding );\r\n\t\t\tconst right   = toPixel( root, padding.right || padding );\r\n\r\n\t\t\tthis.padding = { left, right };\r\n\t\t\tapplyStyle( track, { paddingLeft : unit( left ), paddingRight: unit( right ) } );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return total width from the left of the list to the right of the slide specified by the provided index.\r\n\t\t *\r\n\t\t * @param {number} index - Optional. A slide index. If undefined, total width of the slider will be returned.\r\n\t\t *\r\n\t\t * @return {number} - Total width to the right side of the specified slide, or 0 for an invalid index.\r\n\t\t */\r\n\t\ttotalWidth( index = Splide.length - 1 ) {\r\n\t\t\tconst Slide = Elements.getSlide( index );\r\n\r\n\t\t\tlet width = 0;\r\n\r\n\t\t\tif ( Slide ) {\r\n\t\t\t\tconst slideRect = getRect( Slide.slide );\r\n\t\t\t\tconst listRect  = getRect( Elements.list );\r\n\r\n\t\t\t\tif ( options.direction === RTL ) {\r\n\t\t\t\t\twidth = listRect.right - slideRect.left;\r\n\t\t\t\t} else {\r\n\t\t\t\t\twidth = slideRect.right - listRect.left;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twidth += this.gap;\r\n\t\t\t}\r\n\r\n\t\t\treturn width;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the slide width in px.\r\n\t\t *\r\n\t\t * @param {number} index - Slide index.\r\n\t\t *\r\n\t\t * @return {number} - The slide width.\r\n\t\t */\r\n\t\tslideWidth( index ) {\r\n\t\t\tif ( options.autoWidth ) {\r\n\t\t\t\tconst Slide = Elements.getSlide( index );\r\n\t\t\t\treturn Slide ? Slide.slide.offsetWidth : 0;\r\n\t\t\t}\r\n\r\n\t\t\tconst width = options.fixedWidth || ( ( this.width + this.gap ) / options.perPage ) - this.gap;\r\n\t\t\treturn toPixel( root, width );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the slide height in px.\r\n\t\t *\r\n\t\t * @return {number} - The slide height.\r\n\t\t */\r\n\t\tslideHeight() {\r\n\t\t\tconst height = options.height || options.fixedHeight || this.width * options.heightRatio;\r\n\t\t\treturn toPixel( root, height );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return slider width without padding.\r\n\t\t *\r\n\t\t * @return {number} - Current slider width.\r\n\t\t */\r\n\t\tget width() {\r\n\t\t\treturn track.clientWidth - this.padding.left - this.padding.right;\r\n\t\t},\r\n\t}\r\n}","/**\r\n * The resolver component for vertical layout.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle, getRect } from \"../../../utils/dom\";\r\nimport { toPixel, unit } from \"../../../utils/utils\";\r\nimport { exist } from \"../../../utils/error\";\r\n\r\n\r\n/**\r\n * The resolver component for vertical layout.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The resolver object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Keep the Elements component.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Keep the root element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tconst root = Splide.root;\r\n\r\n\t/**\r\n\t * Keep the track element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tlet track;\r\n\r\n\t/**\r\n\t * Keep the latest options.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tlet options;\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Margin property name.\r\n\t\t *\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tmargin: 'marginBottom',\r\n\r\n\t\t/**\r\n\t\t * Initialization.\r\n\t\t */\r\n\t\tinit() {\r\n\t\t\tthis.resize();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Resize gap and padding.\r\n\t\t * This must be called on init.\r\n\t\t */\r\n\t\tresize() {\r\n\t\t\toptions = Splide.options;\r\n\t\t\ttrack   = Elements.track;\r\n\r\n\t\t\tthis.gap = toPixel( root, options.gap );\r\n\r\n\t\t\tconst padding = options.padding;\r\n\t\t\tconst top     = toPixel( root, padding.top || padding );\r\n\t\t\tconst bottom  = toPixel( root, padding.bottom || padding );\r\n\r\n\t\t\tthis.padding = { top, bottom };\r\n\t\t\tapplyStyle( track, { paddingTop : unit( top ), paddingBottom: unit( bottom ) } );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return total height from the top of the list to the bottom of the slide specified by the provided index.\r\n\t\t *\r\n\t\t * @param {number} index - Optional. A slide index. If undefined, total height of the slider will be returned.\r\n\t\t *\r\n\t\t * @return {number} - Total height to the bottom of the specified slide, or 0 for an invalid index.\r\n\t\t */\r\n\t\ttotalHeight( index = Splide.length - 1 ) {\r\n\t\t\tconst Slide = Elements.getSlide( index );\r\n\r\n\t\t\tif ( Slide ) {\r\n\t\t\t\treturn getRect( Slide.slide ).bottom - getRect( Elements.list ).top + this.gap;\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the slide width in px.\r\n\t\t *\r\n\t\t * @return {number} - The slide width.\r\n\t\t */\r\n\t\tslideWidth() {\r\n\t\t\treturn toPixel( root, options.fixedWidth || this.width );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the slide height in px.\r\n\t\t *\r\n\t\t * @param {number} index - Slide index.\r\n\t\t *\r\n\t\t * @return {number} - The slide height.\r\n\t\t */\r\n\t\tslideHeight( index ) {\r\n\t\t\tif ( options.autoHeight ) {\r\n\t\t\t\tconst Slide = Elements.getSlide( index );\r\n\t\t\t\treturn Slide ? Slide.slide.offsetHeight : 0;\r\n\t\t\t}\r\n\r\n\t\t\tconst height = options.fixedHeight || ( this.height + this.gap ) / options.perPage - this.gap;\r\n\t\t\treturn toPixel( root, height );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return slider width without padding.\r\n\t\t *\r\n\t\t * @return {number} - Current slider width.\r\n\t\t */\r\n\t\tget width() {\r\n\t\t\treturn track.clientWidth;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return slide height without padding.\r\n\t\t *\r\n\t\t * @return {number} - Slider height.\r\n\t\t */\r\n\t\tget height() {\r\n\t\t\tconst height = options.height || this.width * options.heightRatio;\r\n\t\t\texist( height, '\"height\" or \"heightRatio\" is missing.' );\r\n\t\t\treturn toPixel( root, height ) - this.padding.top - this.padding.bottom;\r\n\t\t},\r\n\t}\r\n}","/**\r\n * A package of utility functions related with time.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Simple throttle function that controls how often the given function is executed.\r\n *\r\n * @param {function} func - A function to be throttled.\r\n * @param {number}   wait - Time in millisecond for interval of execution.\r\n *\r\n * @return {Function} - A debounced function.\r\n */\r\nexport function throttle( func, wait ) {\r\n\tlet timeout;\r\n\r\n\t// Declare function by the \"function\" keyword to prevent \"this\" from being inherited.\r\n\treturn function () {\r\n\t\tif ( ! timeout ) {\r\n\t\t\ttimeout = setTimeout( () => {\r\n\t\t\t\tfunc();\r\n\t\t\t\ttimeout = null;\r\n\t\t\t}, wait );\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Custom setInterval function that provides progress rate as callback.\r\n *\r\n * @param {function} callback - A callback function fired every time the interval time passes.\r\n * @param {number}   interval - Interval duration in milliseconds.\r\n * @param {function} progress - A callback function fired whenever the progress goes.\r\n *\r\n * @return {Object} - An object containing play() and pause() functions.\r\n */\r\nexport function createInterval( callback, interval, progress ) {\r\n\tconst { requestAnimationFrame } = window;\r\n\tlet start, elapse, rate, pause = true;\r\n\r\n\tconst step = timestamp => {\r\n\t\tif ( ! pause ) {\r\n\t\t\tif ( ! start ) {\r\n\t\t\t\tstart = timestamp;\r\n\r\n\t\t\t\tif ( rate && rate < 1 ) {\r\n\t\t\t\t\tstart -= rate * interval;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\telapse = timestamp - start;\r\n\t\t\trate   = elapse / interval;\r\n\r\n\t\t\tif ( elapse >= interval ) {\r\n\t\t\t\tstart = 0;\r\n\t\t\t\trate  = 1;\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\r\n\t\t\tif ( progress ) {\r\n\t\t\t\tprogress( rate );\r\n\t\t\t}\r\n\r\n\t\t\trequestAnimationFrame( step );\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\tpause() {\r\n\t\t\tpause = true;\r\n\t\t\tstart = 0;\r\n\t\t},\r\n\r\n\t\tplay( reset ) {\r\n\t\t\tstart = 0;\r\n\r\n\t\t\tif ( reset ) {\r\n\t\t\t\trate = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( pause ) {\r\n\t\t\t\tpause = false;\r\n\t\t\t\trequestAnimationFrame( step );\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n}","/**\r\n * The component for handing slide layouts and their sizes.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport Horizontal from './directions/horizontal';\r\nimport Vertical from './directions/vertical';\r\n\r\nimport { unit } from '../../utils/utils';\r\nimport { throttle } from '../../utils/time';\r\nimport { applyStyle, removeAttribute } from '../../utils/dom';\r\nimport { assign } from \"../../utils/object\";\r\nimport { TTB } from \"../../constants/directions\";\r\n\r\n\r\n/**\r\n * The component for handing slide layouts and their sizes.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Keep the Elements component.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Whether the slider is vertical or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst isVertical = Splide.options.direction === TTB;\r\n\r\n\t/**\r\n\t * Layout component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Layout = assign( {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tbind();\r\n\t\t\tinit();\r\n\r\n\t\t\t// The word \"size\" means width for a horizontal slider and height for a vertical slider.\r\n\t\t\tthis.totalSize = isVertical ? this.totalHeight : this.totalWidth;\r\n\t\t\tthis.slideSize = isVertical ? this.slideHeight : this.slideWidth;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy the component.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tremoveAttribute( [ Elements.list, Elements.track ], 'style' );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return the slider height on the vertical mode or width on the horizontal mode.\r\n\t\t *\r\n\t\t * @return {number}\r\n\t\t */\r\n\t\tget size() {\r\n\t\t\treturn isVertical ? this.height : this.width;\r\n\t\t},\r\n\t}, isVertical ?\tVertical( Splide, Components ) : Horizontal( Splide, Components ) );\r\n\r\n\t/**\r\n\t * Init slider styles according to options.\r\n\t */\r\n\tfunction init() {\r\n\t\tLayout.init();\r\n\r\n\t\tapplyStyle( Splide.root, { maxWidth: unit( Splide.options.width ) } );\r\n\t\tElements.each( Slide => { Slide.slide.style[ Layout.margin ] = unit( Layout.gap ) } );\r\n\r\n\t\tresize();\r\n\t}\r\n\r\n\t/**\r\n\t * Listen the resize native event with throttle.\r\n\t * Initialize when the component is mounted or options are updated.\r\n\t */\r\n\tfunction bind() {\r\n\t\tSplide\r\n\t\t\t.on( 'resize load', throttle( () => { Splide.emit( 'resize' ) }, Splide.options.throttle ), window )\r\n\t\t\t.on( 'resize', resize )\r\n\t\t\t.on( 'updated refresh', init );\r\n\t}\r\n\r\n\t/**\r\n\t * Resize the track and slide elements.\r\n\t */\r\n\tfunction resize() {\r\n\t\tconst options = Splide.options;\r\n\r\n\t\tLayout.resize();\r\n\r\n\t\tapplyStyle( Elements.track, { height: unit( Layout.height ) } );\r\n\r\n\t\tconst slideHeight = options.autoHeight ? null : unit( Layout.slideHeight() );\r\n\r\n\t\tElements.each( Slide => {\r\n\t\t\tapplyStyle( Slide.container, { height: slideHeight } );\r\n\r\n\t\t\tapplyStyle( Slide.slide, {\r\n\t\t\t\twidth : options.autoWidth ? null : unit( Layout.slideWidth( Slide.index ) ),\r\n\t\t\t\theight: Slide.container ? null : slideHeight,\r\n\t\t\t} );\r\n\t\t} );\r\n\r\n\t\tSplide.emit( 'resized' );\r\n\t}\r\n\r\n\treturn Layout;\r\n}","/**\r\n * The component for supporting mouse drag and swipe.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { FADE, SLIDE } from '../../constants/types';\r\nimport { TTB } from '../../constants/directions';\r\nimport { MOVING } from '../../constants/states';\r\nimport { between } from '../../utils/utils';\r\nimport { each } from \"../../utils/object\";\r\n\r\nconst { abs } = Math;\r\n\r\n/**\r\n * If the absolute velocity is greater thant this value,\r\n * a slider always goes to a different slide after drag, not allowed to stay on a current slide.\r\n */\r\nconst MIN_VELOCITY = 0.1;\r\n\r\n/**\r\n * Adjust how much the track can be pulled on the first or last page.\r\n * The larger number this is, the farther the track moves.\r\n * This should be around 5 - 9.\r\n *\r\n * @type {number}\r\n */\r\nconst FRICTION_REDUCER = 7;\r\n\r\n\r\n/**\r\n * The component supporting mouse drag and swipe.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Store the Move component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Track = Components.Track;\r\n\r\n\t/**\r\n\t * Store the Controller component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Controller = Components.Controller;\r\n\r\n\t/**\r\n\t * Coordinate of the track on starting drag.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet startCoord;\r\n\r\n\t/**\r\n\t * Analyzed info on starting drag.\r\n\t *\r\n\t * @type {Object|null}\r\n\t */\r\n\tlet startInfo;\r\n\r\n\t/**\r\n\t * Analyzed info being updated while dragging/swiping.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet currentInfo;\r\n\r\n\t/**\r\n\t * Determine whether slides are being dragged or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tlet isDragging;\r\n\r\n\t/**\r\n\t * Whether the slider direction is vertical or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst isVertical = Splide.options.direction === TTB;\r\n\r\n\t/**\r\n\t * Axis for the direction.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst axis = isVertical ? 'y' : 'x';\r\n\r\n\t/**\r\n\t * Drag component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Drag = {\r\n\t\t/**\r\n\t\t * Whether dragging is disabled or not.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tdisabled: false,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tconst Elements = Components.Elements;\r\n\t\t\tconst track    = Elements.track;\r\n\r\n\t\t\tSplide\r\n\t\t\t\t.on( 'touchstart mousedown', start, track )\r\n\t\t\t\t.on( 'touchmove mousemove', move, track, { passive: false } )\r\n\t\t\t\t.on( 'touchend touchcancel mouseleave mouseup dragend', end, track )\r\n\t\t\t\t.on( 'mounted refresh', () => {\r\n\t\t\t\t\t// Prevent dragging an image or anchor itself.\r\n\t\t\t\t\teach( Elements.list.querySelectorAll( 'img, a' ), elm => {\r\n\t\t\t\t\t\tSplide\r\n\t\t\t\t\t\t\t.off( 'dragstart', elm )\r\n\t\t\t\t\t\t\t.on( 'dragstart', e => { e.preventDefault() }, elm, { passive: false } );\r\n\t\t\t\t\t} );\r\n\t\t\t\t} )\r\n\t\t\t\t.on( 'mounted updated', () => {\r\n\t\t\t\t\tthis.disabled = ! Splide.options.drag;\r\n\t\t\t\t} );\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Called when the track starts to be dragged.\r\n\t *\r\n\t * @param {TouchEvent|MouseEvent} e - TouchEvent or MouseEvent object.\r\n\t */\r\n\tfunction start( e ) {\r\n\t\tif ( ! Drag.disabled && ! isDragging ) {\r\n\t\t\t// These prams are used to evaluate whether the slider should start moving.\r\n\t\t\tinit( e );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize parameters.\r\n\t *\r\n\t * @param {TouchEvent|MouseEvent} e - TouchEvent or MouseEvent object.\r\n\t */\r\n\tfunction init( e ) {\r\n\t\tstartCoord  = Track.toCoord( Track.position );\r\n\t\tstartInfo   = analyze( e, {} );\r\n\t\tcurrentInfo = startInfo;\r\n\t}\r\n\r\n\t/**\r\n\t * Called while the track being dragged.\r\n\t *\r\n\t * @param {TouchEvent|MouseEvent} e - TouchEvent or MouseEvent object.\r\n\t */\r\n\tfunction move( e ) {\r\n\t\tif ( startInfo ) {\r\n\t\t\tcurrentInfo = analyze( e, startInfo );\r\n\r\n\t\t\tif ( isDragging ) {\r\n\t\t\t\tif ( e.cancelable ) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! Splide.is( FADE ) ) {\r\n\t\t\t\t\tconst position = startCoord[ axis ] + currentInfo.offset[ axis ];\r\n\t\t\t\t\tTrack.translate( resist( position ) );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ( shouldMove( currentInfo ) ) {\r\n\t\t\t\t\tSplide.emit( 'drag', startInfo );\r\n\t\t\t\t\tisDragging = true;\r\n\t\t\t\t\tTrack.cancel();\r\n\r\n\t\t\t\t\t// These params are actual drag data.\r\n\t\t\t\t\tinit( e );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Determine whether to start moving the track or not by drag angle.\r\n\t *\r\n\t * @param {Object} info - An information object.\r\n\t *\r\n\t * @return {boolean} - True if the track should be moved or false if not.\r\n\t */\r\n\tfunction shouldMove( { offset } ) {\r\n\t\tif ( Splide.State.is( MOVING ) && Splide.options.waitForTransition ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet angle = Math.atan( abs( offset.y ) / abs( offset.x ) ) * 180 / Math.PI;\r\n\r\n\t\tif ( isVertical ) {\r\n\t\t\tangle = 90 - angle;\r\n\t\t}\r\n\r\n\t\treturn angle < Splide.options.dragAngleThreshold;\r\n\t}\r\n\r\n\t/**\r\n\t * Resist dragging the track on the first/last page because there is no more.\r\n\t *\r\n\t * @param {number} position - A position being applied to the track.\r\n\t *\r\n\t * @return {Object} - Adjusted position.\r\n\t */\r\n\tfunction resist( position ) {\r\n\t\tif ( Splide.is( SLIDE ) ) {\r\n\t\t\tconst sign  = Track.sign;\r\n\t\t\tconst start = sign * Track.trim( Track.toPosition( 0 ) );\r\n\t\t\tconst end   = sign * Track.trim( Track.toPosition( Controller.edgeIndex ) );\r\n\r\n\t\t\tposition *= sign;\r\n\r\n\t\t\tif ( position < start ) {\r\n\t\t\t\tposition = start - FRICTION_REDUCER * Math.log( start - position );\r\n\t\t\t}\telse if ( position > end ) {\r\n\t\t\t\tposition = end + FRICTION_REDUCER * Math.log( position - end );\r\n\t\t\t}\r\n\r\n\t\t\tposition *= sign;\r\n\t\t}\r\n\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/**\r\n\t * Called when dragging ends.\r\n\t */\r\n\tfunction end() {\r\n\t\tstartInfo = null;\r\n\r\n\t\tif ( isDragging ) {\r\n\t\t\tSplide.emit( 'dragged', currentInfo );\r\n\t\t\tgo( currentInfo );\r\n\t\t\tisDragging = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Go to the slide determined by the analyzed data.\r\n\t *\r\n\t * @param {Object} info - An info object.\r\n\t */\r\n\tfunction go( info ) {\r\n\t\tconst velocity = info.velocity[ axis ];\r\n\t\tconst absV     = abs( velocity );\r\n\r\n\t\tif ( absV > 0 ) {\r\n\t\t\tconst options = Splide.options;\r\n\t\t\tconst index   = Splide.index;\r\n\t\t\tconst sign    = velocity < 0 ? -1 : 1;\r\n\r\n\t\t\tlet destIndex = index;\r\n\r\n\t\t\tif ( ! Splide.is( FADE ) ) {\r\n\t\t\t\tlet destination = Track.position;\r\n\r\n\t\t\t\tif ( absV > options.flickVelocityThreshold && abs( info.offset[ axis ] ) < options.swipeDistanceThreshold ) {\r\n\t\t\t\t\tdestination += sign * Math.min(\r\n\t\t\t\t\t\tabsV * options.flickPower,\r\n\t\t\t\t\t\tComponents.Layout.size * ( options.flickMaxPages || 1 )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdestIndex = Track.toIndex( destination );\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Do not allow the track to go to a previous position if there is enough velocity.\r\n\t\t\t * Always use the adjacent index for the fade mode.\r\n\t\t\t */\r\n\t\t\tif ( destIndex === index && absV > MIN_VELOCITY ) {\r\n\t\t\t\tdestIndex = index + sign * Track.sign;\r\n\t\t\t}\r\n\r\n\t\t\tif ( Splide.is( SLIDE ) ) {\r\n\t\t\t\tdestIndex = between( destIndex, 0, Controller.edgeIndex );\r\n\t\t\t}\r\n\r\n\t\t\tController.go( destIndex, options.isNavigation );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Analyze the given event object and return important information for handling swipe behavior.\r\n\t *\r\n\t * @param {Event}   e          - Touch or Mouse event object.\r\n\t * @param {Object}  startInfo  - Information analyzed on start for calculating difference from the current one.\r\n\t *\r\n\t * @return {Object} - An object containing analyzed information, such as offset, velocity, etc.\r\n\t */\r\n\tfunction analyze( e, startInfo ) {\r\n\t\tconst { timeStamp, touches } = e;\r\n\t\tconst { clientX, clientY } = touches ? touches[0] : e;\r\n\t\tconst { x: fromX = clientX, y: fromY = clientY } = startInfo.to || {};\r\n\r\n\t\tconst startTime = startInfo.time || 0;\r\n\t\tconst offset    = { x: clientX - fromX, y: clientY - fromY };\r\n\t\tconst duration  = timeStamp - startTime;\r\n\t\tconst velocity  = { x: offset.x / duration, y: offset.y / duration };\r\n\r\n\t\treturn {\r\n\t\t\tto: { x: clientX, y: clientY },\r\n\t\t\toffset,\r\n\t\t\ttime: timeStamp,\r\n\t\t\tvelocity,\r\n\t\t};\r\n\t}\r\n\r\n\treturn Drag;\r\n}","/**\r\n * The component for handling a click event.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n\r\n/**\r\n * The component for handling a click event.\r\n * Click should be disabled during drag/swipe.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Whether click is disabled or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tlet disabled = false;\r\n\r\n\t/**\r\n\t * Click component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Click = {\r\n\t\t/**\r\n\t\t * Mount only when the drag is activated and the slide type is not \"fade\".\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: Splide.options.drag,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tSplide\r\n\t\t\t\t.on( 'click', onClick, Components.Elements.track, { capture: true } )\r\n\t\t\t\t.on( 'drag', () => { disabled = true } )\r\n\t\t\t\t.on( 'dragged', () => {\r\n\t\t\t\t\t// Make sure the flag is released after the click event is fired.\r\n\t\t\t\t\tsetTimeout( () => { disabled = false } );\r\n\t\t\t\t} );\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Called when a track element is clicked.\r\n\t *\r\n\t * @param {Event} e - A click event.\r\n\t */\r\n\tfunction onClick( e ) {\r\n\t\tif ( disabled ) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\te.stopImmediatePropagation();\r\n\t\t}\r\n\t}\r\n\r\n\treturn Click;\r\n}","/**\r\n * The component for playing slides automatically.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle } from '../../utils/dom';\r\nimport { createInterval } from '../../utils/time';\r\n\r\n/**\r\n * Set of pause flags.\r\n */\r\nconst PAUSE_FLAGS = {\r\n\tHOVER : 1,\r\n\tFOCUS : 2,\r\n\tMANUAL: 3,\r\n};\r\n\r\n\r\n/**\r\n * The component for playing slides automatically.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n * @param {string} name       - A component name as a lowercase string.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components, name ) => {\r\n\t/**\r\n\t * Store pause flags.\r\n\t *\r\n\t * @type {Array}\r\n\t */\r\n\tlet flags = [];\r\n\r\n\t/**\r\n\t * Store an interval object.\r\n\t *\r\n\t * @type {Object};\r\n\t */\r\n\tlet interval;\r\n\r\n\t/**\r\n\t * Keep the Elements component.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Autoplay component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Autoplay = {\r\n\t\t/**\r\n\t\t * Required only when the autoplay option is true.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: Splide.options.autoplay,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t * Note that autoplay starts only if there are slides over perPage number.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tconst options = Splide.options;\r\n\r\n\t\t\tif ( Elements.slides.length > options.perPage ) {\r\n\t\t\t\tinterval = createInterval( () => { Splide.go( '>' ) }, options.interval, rate => {\r\n\t\t\t\t\tSplide.emit( `${ name }:playing`, rate );\r\n\r\n\t\t\t\t\tif ( Elements.bar ) {\r\n\t\t\t\t\t\tapplyStyle( Elements.bar, { width: `${ rate * 100 }%` } );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tbind();\r\n\t\t\t\tthis.play();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Start autoplay.\r\n\t\t *\r\n\t\t * @param {number} flag - A pause flag to be removed.\r\n\t\t */\r\n\t\tplay( flag = 0 ) {\r\n\t\t\tflags = flags.filter( f => f !== flag );\r\n\r\n\t\t\tif ( ! flags.length ) {\r\n\t\t\t\tSplide.emit( `${ name }:play` );\r\n\t\t\t\tinterval.play( Splide.options.resetProgress );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Pause autoplay.\r\n\t\t * Note that Array.includes is not supported by IE.\r\n\t\t *\r\n\t\t * @param {number} flag - A pause flag to be added.\r\n\t\t */\r\n\t\tpause( flag = 0 ) {\r\n\t\t\tinterval.pause();\r\n\r\n\t\t\tif ( flags.indexOf( flag ) === -1 ) {\r\n\t\t\t\tflags.push( flag );\r\n\t\t\t}\r\n\r\n\t\t\tif ( flags.length === 1 ) {\r\n\t\t\t\tSplide.emit( `${ name }:pause` );\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Listen some events.\r\n\t */\r\n\tfunction bind() {\r\n\t\tconst options = Splide.options;\r\n\t\tconst sibling = Splide.sibling;\r\n\t\tconst elms    = [ Splide.root, sibling ? sibling.root : null ];\r\n\r\n\t\tif ( options.pauseOnHover ) {\r\n\t\t\tswitchOn( elms, 'mouseleave', PAUSE_FLAGS.HOVER, true );\r\n\t\t\tswitchOn( elms, 'mouseenter', PAUSE_FLAGS.HOVER, false );\r\n\t\t}\r\n\r\n\t\tif ( options.pauseOnFocus ) {\r\n\t\t\tswitchOn( elms, 'focusout', PAUSE_FLAGS.FOCUS, true );\r\n\t\t\tswitchOn( elms, 'focusin', PAUSE_FLAGS.FOCUS, false );\r\n\t\t}\r\n\r\n\t\tif ( Elements.play ) {\r\n\t\t\tSplide.on( 'click', () => {\r\n\t\t\t\t// Need to be removed a focus flag at first.\r\n\t\t\t\tAutoplay.play( PAUSE_FLAGS.FOCUS );\r\n\t\t\t\tAutoplay.play( PAUSE_FLAGS.MANUAL );\r\n\t\t\t}, Elements.play );\r\n\t\t}\r\n\r\n\t\tif ( Elements.pause ) {\r\n\t\t\tswitchOn( [ Elements.pause ], 'click', PAUSE_FLAGS.MANUAL, false );\r\n\t\t}\r\n\r\n\t\tSplide\r\n\t\t\t.on( 'move refresh', () => { Autoplay.play() } ) // Rewind the timer.\r\n\t\t\t.on( 'destroy', () => {\tAutoplay.pause() } );\r\n\t}\r\n\r\n\t/**\r\n\t * Play or pause on the given event.\r\n\t *\r\n\t * @param {Element[]} elms  - Elements.\r\n\t * @param {string}    event - An event name or names.\r\n\t * @param {number}    flag  - A pause flag defined on the top.\r\n\t * @param {boolean}   play  - Determine whether to play or pause.\r\n\t */\r\n\tfunction switchOn( elms, event, flag, play ) {\r\n\t\telms.forEach( elm => {\r\n\t\t\tSplide.on( event, () => { Autoplay[ play ? 'play' : 'pause' ]( flag ) }, elm );\r\n\t\t} );\r\n\t}\r\n\r\n\treturn Autoplay;\r\n}","/**\r\n * The component for change an img element to background image of its wrapper.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { applyStyle, child } from '../../utils/dom';\r\n\r\n\r\n/**\r\n * The component for change an img element to background image of its wrapper.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Hold options.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst options = Splide.options;\r\n\r\n\t/**\r\n\t * Cover component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Cover = {\r\n\t\t/**\r\n\t\t * Required only when \"cover\" option is true.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: options.cover,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tSplide.on( 'lazyload:loaded', img => { cover( img, false ) } );\r\n\t\t\tSplide.on( 'mounted updated refresh', () => apply( false ) );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tapply( true );\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Apply \"cover\" to all slides.\r\n\t *\r\n\t * @param {boolean} uncover - If true, \"cover\" will be clear.\r\n\t */\r\n\tfunction apply( uncover ) {\r\n\t\tComponents.Elements.each( Slide => {\r\n\t\t\tconst img = child( Slide.slide, 'IMG' ) || child( Slide.container, 'IMG' );\r\n\r\n\t\t\tif ( img && img.src ) {\r\n\t\t\t\tcover( img, uncover );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Set background image of the parent element, using source of the given image element.\r\n\t *\r\n\t * @param {Element} img     - An image element.\r\n\t * @param {boolean} uncover - Reset \"cover\".\r\n\t */\r\n\tfunction cover( img, uncover ) {\r\n\t\tapplyStyle( img.parentElement, { background: uncover ? '' : `center/cover no-repeat url(\"${ img.src }\")` } );\r\n\t\tapplyStyle( img, { display: uncover ? '' : 'none' } );\r\n\t}\r\n\r\n\treturn Cover;\r\n}","/**\r\n * Export vector path for an arrow.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Namespace definition for SVG element.\r\n *\r\n * @type {string}\r\n */\r\nexport const XML_NAME_SPACE = 'http://www.w3.org/2000/svg';\r\n\r\n/**\r\n * The arrow vector path.\r\n *\r\n * @type {number}\r\n */\r\nexport const PATH = 'm15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z';\r\n\r\n/**\r\n * SVG width and height.\r\n *\r\n * @type {number}\r\n */\r\nexport const SIZE = 40;","/**\r\n * The component for appending prev/next arrows.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { create, append, before, domify, remove, removeAttribute } from '../../utils/dom';\r\nimport { XML_NAME_SPACE, PATH, SIZE } from './path';\r\nimport { LOOP } from \"../../constants/types\";\r\n\r\n\r\n/**\r\n * The component for appending prev/next arrows.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n * @param {string} name       - A component name as a lowercase string.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components, name ) => {\r\n\t/**\r\n\t * Previous arrow element.\r\n\t *\r\n\t * @type {Element|undefined}\r\n\t */\r\n\tlet prev;\r\n\r\n\t/**\r\n\t * Next arrow element.\r\n\t *\r\n\t * @type {Element|undefined}\r\n\t */\r\n\tlet next;\r\n\r\n\t/**\r\n\t * Store the class list.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst classes = Splide.classes;\r\n\r\n\t/**\r\n\t * Hold the root element.\r\n\t *\r\n\t * @type {Element}\r\n\t */\r\n\tconst root = Splide.root;\r\n\r\n\t/**\r\n\t * Whether arrows are created programmatically or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tlet created;\r\n\r\n\t/**\r\n\t * Hold the Elements component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Arrows component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Arrows = {\r\n\t\t/**\r\n\t\t * Required when the arrows option is true.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: Splide.options.arrows,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\t// Attempt to get arrows from HTML source.\r\n\t\t\tprev = Elements.arrows.prev;\r\n\t\t\tnext = Elements.arrows.next;\r\n\r\n\t\t\t// If arrows were not found in HTML, let's generate them.\r\n\t\t\tif ( ( ! prev || ! next ) && Splide.options.arrows ) {\r\n\t\t\t\tprev = createArrow( true );\r\n\t\t\t\tnext = createArrow( false );\r\n\t\t\t\tcreated = true;\r\n\r\n\t\t\t\tappendArrows();\r\n\t\t\t}\r\n\r\n\t\t\tif ( prev && next ) {\r\n\t\t\t\tbind();\r\n\t\t\t}\r\n\r\n\t\t\tthis.arrows = { prev, next };\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called after all components are mounted.\r\n\t\t */\r\n\t\tmounted() {\r\n\t\t\tSplide.emit( `${ name }:mounted`, prev, next );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tremoveAttribute( [ prev, next ], 'disabled' );\r\n\r\n\t\t\tif ( created ) {\r\n\t\t\t\tremove( prev.parentElement );\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Listen to native and custom events.\r\n\t */\r\n\tfunction bind() {\r\n\t\tSplide\r\n\t\t\t.on( 'click', () => { Splide.go( '<' ) }, prev )\r\n\t\t\t.on( 'click', () => { Splide.go( '>' ) }, next )\r\n\t\t\t.on( 'mounted move updated refresh', updateDisabled );\r\n\t}\r\n\r\n\t/**\r\n\t * Update a disabled attribute.\r\n\t */\r\n\tfunction updateDisabled() {\r\n\t\tconst { prevIndex, nextIndex } = Components.Controller;\r\n\t\tconst isEnough = Splide.length > Splide.options.perPage || Splide.is( LOOP );\r\n\r\n\t\tprev.disabled = prevIndex < 0 || ! isEnough;\r\n\t\tnext.disabled = nextIndex < 0 || ! isEnough;\r\n\r\n\t\tSplide.emit( `${ name }:updated`, prev, next, prevIndex, nextIndex );\r\n\t}\r\n\r\n\t/**\r\n\t * Create a wrapper element and append arrows.\r\n\t */\r\n\tfunction appendArrows() {\r\n\t\tconst wrapper = create( 'div', { class: classes.arrows } );\r\n\r\n\t\tappend( wrapper, prev );\r\n\t\tappend( wrapper, next );\r\n\r\n\t\tconst slider = Elements.slider;\r\n\t\tconst parent = Splide.options.arrows === 'slider' && slider ? slider : root;\r\n\r\n\t\tbefore( wrapper, parent.firstElementChild );\r\n\t}\r\n\r\n\t/**\r\n\t * Create an arrow element.\r\n\t *\r\n\t * @param {boolean} prev - Determine to create a prev arrow or next arrow.\r\n\t *\r\n\t * @return {Element} - A created arrow element.\r\n\t */\r\n\tfunction createArrow( prev ) {\r\n\t\tconst arrow = `<button class=\"${ classes.arrow } ${ prev ? classes.prev : classes.next }\" type=\"button\">`\r\n\t\t\t+\t`<svg xmlns=\"${ XML_NAME_SPACE }\"\tviewBox=\"0 0 ${ SIZE } ${ SIZE }\"\twidth=\"${ SIZE }\"\theight=\"${ SIZE }\">`\r\n\t\t\t+ `<path d=\"${ Splide.options.arrowPath || PATH }\" />`;\r\n\r\n\t\treturn domify( arrow );\r\n\t}\r\n\r\n\treturn Arrows;\r\n}","/**\r\n * The component for handling pagination\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { create, remove, append, addClass, removeClass } from '../../utils/dom';\r\nimport { STATUS_CLASSES } from '../../constants/classes';\r\n\r\n/**\r\n * The event name for updating some attributes of pagination nodes.\r\n *\r\n * @type {string}\r\n */\r\nconst ATTRIBUTES_UPDATE_EVENT = 'move.page';\r\n\r\n/**\r\n * The event name for recreating pagination.\r\n *\r\n * @type {string}\r\n */\r\nconst UPDATE_EVENT = 'updated.page refresh.page';\r\n\r\n\r\n/**\r\n * The component for handling pagination\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n * @param {string} name       - A component name as a lowercase string.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components, name ) => {\r\n\t/**\r\n\t * Store all data for pagination.\r\n\t * - list: A list element.\r\n\t * - items: An array that contains objects(li, button, index, page).\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet data = {};\r\n\r\n\t/**\r\n\t * Hold the Elements component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * Pagination component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Pagination = {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tconst pagination = Splide.options.pagination;\r\n\r\n\t\t\tif ( pagination ) {\r\n\t\t\t\tdata = createPagination();\r\n\r\n\t\t\t\tconst slider = Elements.slider;\r\n\t\t\t\tconst parent = pagination === 'slider' && slider ? slider : Splide.root;\r\n\t\t\t\tappend( parent, data.list );\r\n\r\n\t\t\t\tSplide.on( ATTRIBUTES_UPDATE_EVENT, updateAttributes );\r\n\t\t\t}\r\n\r\n\t\t\tSplide\r\n\t\t\t\t.off( UPDATE_EVENT )\r\n\t\t\t\t.on( UPDATE_EVENT, () => {\r\n\t\t\t\t\tPagination.destroy();\r\n\r\n\t\t\t\t\tif ( Splide.options.pagination ) {\r\n\t\t\t\t\t\tPagination.mount();\r\n\t\t\t\t\t\tPagination.mounted();\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called after all components are mounted.\r\n\t\t */\r\n\t\tmounted() {\r\n\t\t\tif ( Splide.options.pagination ) {\r\n\t\t\t\tconst index = Splide.index;\r\n\t\t\t\tSplide.emit( `${ name }:mounted`, data, this.getItem( index ) );\r\n\t\t\t\tupdateAttributes( index, -1 );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy the pagination.\r\n\t\t * Be aware that node.remove() is not supported by IE.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tremove( data.list );\r\n\r\n\t\t\tif ( data.items ) {\r\n\t\t\t\tdata.items.forEach( item => { Splide.off( 'click', item.button ) } );\r\n\t\t\t}\r\n\r\n\t\t\t// Do not remove UPDATE_EVENT to recreate pagination if needed.\r\n\t\t\tSplide.off( ATTRIBUTES_UPDATE_EVENT );\r\n\r\n\t\t\tdata = {};\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return an item by index.\r\n\t\t *\r\n\t\t * @param {number} index - A slide index.\r\n\t\t *\r\n\t\t * @return {Object|undefined} - An item object on success or undefined on failure.\r\n\t\t */\r\n\t\tgetItem( index ) {\r\n\t\t\treturn data.items[ Components.Controller.toPage( index ) ];\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return object containing pagination data.\r\n\t\t *\r\n\t\t * @return {Object} - Pagination data including list and items.\r\n\t\t */\r\n\t\tget data() {\r\n\t\t\treturn data;\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Update attributes.\r\n\t *\r\n\t * @param {number} index     - Active index.\r\n\t * @param {number} prevIndex - Prev index.\r\n\t */\r\n\tfunction updateAttributes( index, prevIndex ) {\r\n\t\tconst prev   = Pagination.getItem( prevIndex );\r\n\t\tconst curr   = Pagination.getItem( index );\r\n\t\tconst active = STATUS_CLASSES.active;\r\n\r\n\t\tif ( prev ) {\r\n\t\t\tremoveClass( prev.button, active );\r\n\t\t}\r\n\r\n\t\tif ( curr ) {\r\n\t\t\taddClass( curr.button, active );\r\n\t\t}\r\n\r\n\t\tSplide.emit( `${ name }:updated`, data, prev, curr );\r\n\t}\r\n\r\n\t/**\r\n\t * Create a wrapper and button elements.\r\n\t *\r\n\t * @return {Object} - An object contains all data.\r\n\t */\r\n\tfunction createPagination() {\r\n\t\tconst options  = Splide.options;\r\n\t\tconst classes  = Splide.classes;\r\n\t\tconst list     = create( 'ul', { class: classes.pagination } );\r\n\r\n\t\tconst items = Elements.getSlides( false )\r\n\t\t\t.filter( Slide => options.focus !== false || Slide.index % options.perPage === 0 )\r\n\t\t\t.map( ( Slide, page ) => {\r\n\t\t\t\tconst li     = create( 'li', {} );\r\n\t\t\t\tconst button = create( 'button', { class: classes.page, type: 'button' } );\r\n\r\n\t\t\t\tappend( li, button );\r\n\t\t\t\tappend( list, li );\r\n\r\n\t\t\t\tSplide.on( 'click', () => { Splide.go( `>${ page }` ) }, button );\r\n\r\n\t\t\t\treturn { li, button, page, Slides: Elements.getSlidesByPage( page ) };\r\n\t\t\t} );\r\n\r\n\t\treturn { list, items };\r\n\t}\r\n\r\n\treturn Pagination;\r\n}","/**\r\n * The component for loading slider images lazily.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { STATUS_CLASSES } from '../../constants/classes';\r\nimport {\r\n\tcreate,\r\n\tremove,\r\n\tappend,\r\n\taddClass,\r\n\tremoveClass,\r\n\tsetAttribute,\r\n\tgetAttribute,\r\n\tapplyStyle,\r\n} from '../../utils/dom';\r\nimport { each } from \"../../utils/object\";\r\n\r\n/**\r\n * The name for a data attribute of src.\r\n *\r\n * @type {string}\r\n */\r\nconst SRC_DATA_NAME = 'data-splide-lazy';\r\n\r\n/**\r\n * The name for a data attribute of srcset.\r\n *\r\n * @type {string}\r\n */\r\nconst SRCSET_DATA_NAME = 'data-splide-lazy-srcset';\r\n\r\n/**\r\n * The component for loading slider images lazily.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n * @param {string} name       - A component name as a lowercase string.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components, name ) => {\r\n\t/**\r\n\t * Next index for sequential loading.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tlet nextIndex;\r\n\r\n\t/**\r\n\t * Store objects containing an img element and a Slide object.\r\n\t *\r\n\t * @type {Object[]}\r\n\t */\r\n\tlet images;\r\n\r\n\t/**\r\n\t * Store the options.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst options = Splide.options;\r\n\r\n\t/**\r\n\t * Whether to load images sequentially or not.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tconst isSequential = options.lazyLoad === 'sequential';\r\n\r\n\t/**\r\n\t * Lazyload component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Lazyload = {\r\n\t\t/**\r\n\t\t * Mount only when the lazyload option is provided.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: options.lazyLoad,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tSplide.on( 'mounted refresh', () => {\r\n\t\t\t\tinit();\r\n\r\n\t\t\t\tComponents.Elements.each( Slide => {\r\n\t\t\t\t\teach( Slide.slide.querySelectorAll( `[${ SRC_DATA_NAME }], [${ SRCSET_DATA_NAME }]` ), img => {\r\n\t\t\t\t\t\tif ( ! img.src && ! img.srcset ) {\r\n\t\t\t\t\t\t\timages.push( { img, Slide } );\r\n\t\t\t\t\t\t\tapplyStyle( img, { display: 'none' } );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif ( isSequential ) {\r\n\t\t\t\t\tloadNext();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( ! isSequential ) {\r\n\t\t\t\tSplide.on( `mounted refresh moved.${ name }`, check );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy: init,\r\n\t};\r\n\r\n\t/**\r\n\t * Initialize parameters.\r\n\t */\r\n\tfunction init() {\r\n\t\timages    = [];\r\n\t\tnextIndex = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Check how close each image is from the active slide and\r\n\t * determine whether to start loading or not, according to the distance.\r\n\t *\r\n\t * @param {number} index - Current index.\r\n\t */\r\n\tfunction check( index ) {\r\n\t\tindex = isNaN( index ) ? Splide.index : index;\r\n\r\n\t\timages = images.filter( image => {\r\n\t\t\tif ( image.Slide.isWithin( index, options.perPage * ( options.preloadPages + 1 ) ) ) {\r\n\t\t\t\tload( image.img, image.Slide );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} );\r\n\r\n\t\t// Unbind if all images are loaded.\r\n\t\tif ( ! images[0] ) {\r\n\t\t\tSplide.off( `moved.${ name }` );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Start loading an image.\r\n\t * Creating a clone of the image element since setting src attribute directly to it\r\n\t * often occurs 'hitch', blocking some other processes of a browser.\r\n\t *\r\n\t * @param {Element} img   - An image element.\r\n\t * @param {Object}  Slide - A Slide object.\r\n\t */\r\n\tfunction load( img, Slide ) {\r\n\t\taddClass( Slide.slide, STATUS_CLASSES.loading );\r\n\r\n\t\tconst spinner = create( 'span', { class: Splide.classes.spinner } );\r\n\t\tappend( img.parentElement, spinner );\r\n\r\n\t\timg.onload  = () => { loaded( img, spinner, Slide, false ) };\r\n\t\timg.onerror = () => { loaded( img, spinner, Slide, true ) };\r\n\r\n\t\tsetAttribute( img, 'srcset', getAttribute( img, SRCSET_DATA_NAME ) || '' );\r\n\t\tsetAttribute( img, 'src', getAttribute( img, SRC_DATA_NAME ) || '' );\r\n\t}\r\n\r\n\t/**\r\n\t * Start loading a next image in images array.\r\n\t */\r\n\tfunction loadNext() {\r\n\t\tif ( nextIndex < images.length ) {\r\n\t\t\tconst image = images[ nextIndex ];\r\n\t\t\tload( image.img, image.Slide );\r\n\t\t}\r\n\r\n\t\tnextIndex++;\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after the image was loaded or loading was aborted by some error.\r\n\t *\r\n\t * @param {Element} img     - An image element.\r\n\t * @param {Element} spinner - A spinner element.\r\n\t * @param {Object}  Slide   - A Slide object.\r\n\t * @param {boolean} error   - True if the image was loaded successfully or false on error.\r\n\t */\r\n\tfunction loaded( img, spinner, Slide, error ) {\r\n\t\tremoveClass( Slide.slide, STATUS_CLASSES.loading );\r\n\r\n\t\tif ( ! error ) {\r\n\t\t\tremove( spinner );\r\n\t\t\tapplyStyle( img, { display: '' } );\r\n\t\t\tSplide.emit( `${ name }:loaded`, img ).emit( 'resize' );\r\n\t\t}\r\n\r\n\t\tif ( isSequential ) {\r\n\t\t\tloadNext();\r\n\t\t}\r\n\t}\r\n\r\n\treturn Lazyload;\r\n}","/**\r\n * Export aria attribute names.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\n/**\r\n * Attribute name for aria-current.\r\n *\r\n * @type {string}\r\n */\r\nexport const ARIA_CURRENRT = 'aria-current';\r\n\r\n/**\r\n * Attribute name for aria-control.\r\n *\r\n * @type {string}\r\n */\r\nexport const ARIA_CONTROLS = 'aria-controls';\r\n\r\n/**\r\n * Attribute name for aria-control.\r\n *\r\n * @type {string}\r\n */\r\nexport const ARIA_LABEL = 'aria-label';\r\n\r\n/**\r\n * Attribute name for aria-labelledby.\r\n *\r\n * @type {string}\r\n */\r\nexport const ARIA_LABELLEDBY = 'aria-labelledby';\r\n\r\n/**\r\n * Attribute name for aria-hidden.\r\n *\r\n * @type {string}\r\n */\r\nexport const ARIA_HIDDEN = 'aria-hidden';\r\n\r\n/**\r\n * Attribute name for tab-index.\r\n *\r\n * @type {string}\r\n */\r\nexport const TAB_INDEX = 'tabindex';","/**\r\n * The component for controlling slides via keyboard.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { removeAttribute, setAttribute } from \"../../utils/dom\";\r\nimport { TAB_INDEX } from \"../../constants/a11y\";\r\n\r\n/**\r\n * Map a key to a slide control.\r\n *\r\n * @type {Object}\r\n */\r\nconst KEY_MAP = {\r\n\tltr: {\r\n\t\tArrowLeft : '<',\r\n\t\tArrowRight: '>',\r\n\t\t// For IE.\r\n\t\tLeft : '<',\r\n\t\tRight: '>',\r\n\t},\r\n\trtl: {\r\n\t\tArrowLeft : '>',\r\n\t\tArrowRight: '<',\r\n\t\t// For IE.\r\n\t\tLeft : '>',\r\n\t\tRight: '<',\r\n\t},\r\n\tttb: {\r\n\t\tArrowUp  : '<',\r\n\t\tArrowDown: '>',\r\n\t\t// For IE.\r\n\t\tUp  : '<',\r\n\t\tDown: '>',\r\n\t},\r\n};\r\n\r\n\r\n/**\r\n * The component for controlling slides via keyboard.\r\n *\r\n * @param {Splide} Splide - A Splide instance.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide ) => {\r\n\t/**\r\n\t * Hold the target element.\r\n\t *\r\n\t * @type {Element|Document|undefined}\r\n\t */\r\n\tlet target;\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tSplide.on( 'mounted updated', () => {\r\n\t\t\t\tconst options  = Splide.options;\r\n\t\t\t\tconst root     = Splide.root;\r\n\t\t\t\tconst map      = KEY_MAP[ options.direction ];\r\n\t\t\t\tconst keyboard = options.keyboard;\r\n\r\n\t\t\t\tif ( target ) {\r\n\t\t\t\t\tSplide.off( 'keydown', target );\r\n\t\t\t\t\tremoveAttribute( root, TAB_INDEX );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( keyboard ) {\r\n\t\t\t\t\tif ( keyboard === 'focused' ) {\r\n\t\t\t\t\t\ttarget = root;\r\n\t\t\t\t\t\tsetAttribute( root, TAB_INDEX, 0 );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget = document;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tSplide.on( 'keydown', e => {\r\n\t\t\t\t\t\tif ( map[ e.key ] ) {\r\n\t\t\t\t\t\t\tSplide.go( map[ e.key ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, target );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t};\r\n}","/**\r\n * The component for enhancing accessibility.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { setAttribute, removeAttribute } from '../../utils/dom';\r\nimport { sprintf } from '../../utils/utils';\r\nimport { ARIA_CONTROLS, ARIA_CURRENRT, ARIA_HIDDEN, ARIA_LABEL, TAB_INDEX } from '../../constants/a11y';\r\n\r\n\r\n/**\r\n * The component for enhancing accessibility.\r\n *\r\n * @param {Splide} Splide     - A Splide instance.\r\n * @param {Object} Components - An object containing components.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide, Components ) => {\r\n\t/**\r\n\t * Hold a i18n object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst i18n = Splide.i18n;\r\n\r\n\t/**\r\n\t * Hold the Elements component.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Elements = Components.Elements;\r\n\r\n\t/**\r\n\t * All attributes related with A11y.\r\n\t *\r\n\t * @type {string[]}\r\n\t */\r\n\tconst allAttributes = [ ARIA_HIDDEN, TAB_INDEX, ARIA_CONTROLS, ARIA_LABEL, ARIA_CURRENRT, 'role' ];\r\n\r\n\t/**\r\n\t * A11y component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst A11y = {\r\n\t\t/**\r\n\t\t * Required only when the accessibility option is true.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: Splide.options.accessibility,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tSplide\r\n\t\t\t\t.on( 'visible', Slide => { updateSlide( Slide.slide, true ) } )\r\n\t\t\t\t.on( 'hidden', Slide => { updateSlide( Slide.slide, false ) } )\r\n\t\t\t\t.on( 'arrows:mounted', initArrows )\r\n\t\t\t\t.on( 'arrows:updated', updateArrows )\r\n\t\t\t\t.on( 'pagination:mounted', initPagination )\r\n\t\t\t\t.on( 'pagination:updated', updatePagination )\r\n\t\t\t\t.on( 'refresh', () => { removeAttribute( Components.Clones.clones, allAttributes ) } );\r\n\r\n\t\t\tif ( Splide.options.isNavigation ) {\r\n\t\t\t\tSplide\r\n\t\t\t\t\t.on( 'navigation:mounted navigation:updated', initNavigation )\r\n\t\t\t\t\t.on( 'active', Slide => { updateNavigation( Slide, true ) } )\r\n\t\t\t\t\t.on( 'inactive', Slide => { updateNavigation( Slide, false ) } );\r\n\t\t\t}\r\n\r\n\t\t\tinitAutoplay();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t */\r\n\t\tdestroy() {\r\n\t\t\tconst Arrows = Components.Arrows;\r\n\t\t\tconst arrows = Arrows ? Arrows.arrows : {};\r\n\r\n\t\t\tremoveAttribute(\r\n\t\t\t\tElements.slides.concat( [ arrows.prev, arrows.next, Elements.play, Elements.pause ] ),\r\n\t\t\t\tallAttributes\r\n\t\t\t);\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Update slide attributes when it gets visible or hidden.\r\n\t *\r\n\t * @param {Element} slide   - A slide element.\r\n\t * @param {Boolean} visible - True when the slide gets visible, or false when hidden.\r\n\t */\r\n\tfunction updateSlide( slide, visible ) {\r\n\t\tsetAttribute( slide, ARIA_HIDDEN, ! visible );\r\n\r\n\t\tif ( Splide.options.slideFocus ) {\r\n\t\t\tsetAttribute( slide, TAB_INDEX, visible ? 0 : -1 );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize arrows if they are available.\r\n\t * Append screen reader elements and add aria-controls attribute.\r\n\t *\r\n\t * @param {Element} prev - Previous arrow element.\r\n\t * @param {Element} next - Next arrow element.\r\n\t */\r\n\tfunction initArrows( prev, next ) {\r\n\t\tconst controls = Elements.track.id;\r\n\r\n\t\tsetAttribute( prev, ARIA_CONTROLS, controls );\r\n\t\tsetAttribute( next, ARIA_CONTROLS, controls );\r\n\t}\r\n\r\n\t/**\r\n\t * Update arrow attributes.\r\n\t *\r\n\t * @param {Element} prev      - Previous arrow element.\r\n\t * @param {Element} next      - Next arrow element.\r\n\t * @param {number}  prevIndex - Previous slide index or -1 when there is no precede slide.\r\n\t * @param {number}  nextIndex - Next slide index or -1 when there is no next slide.\r\n\t */\r\n\tfunction updateArrows( prev, next, prevIndex, nextIndex ) {\r\n\t\tconst index     = Splide.index;\r\n\t\tconst prevLabel = prevIndex > -1 && index < prevIndex ? i18n.last : i18n.prev;\r\n\t\tconst nextLabel = nextIndex > -1 && index > nextIndex ? i18n.first : i18n.next;\r\n\r\n\t\tsetAttribute( prev, ARIA_LABEL, prevLabel );\r\n\t\tsetAttribute( next, ARIA_LABEL, nextLabel );\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize pagination if it's available.\r\n\t * Append a screen reader element and add aria-controls/label attribute to each item.\r\n\t *\r\n\t * @param {Object} data       - Data object containing all items.\r\n\t * @param {Object} activeItem - An initial active item.\r\n\t */\r\n\tfunction initPagination( data, activeItem ) {\r\n\t\tif ( activeItem ) {\r\n\t\t\tsetAttribute( activeItem.button, ARIA_CURRENRT, true );\r\n\t\t}\r\n\r\n\t\tdata.items.forEach( item => {\r\n\t\t\tconst options  = Splide.options;\r\n\t\t\tconst text     = options.focus === false && options.perPage > 1 ? i18n.pageX : i18n.slideX;\r\n\t\t\tconst label    = sprintf( text, item.page + 1 );\r\n\t\t\tconst button   = item.button;\r\n\t\t\tconst controls = item.Slides.map( Slide => Slide.slide.id );\r\n\r\n\t\t\tsetAttribute( button, ARIA_CONTROLS, controls.join( ' ' ) );\r\n\t\t\tsetAttribute( button, ARIA_LABEL, label );\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Update pagination attributes.\r\n\t *\r\n\t * @param {Object}  data - Data object containing all items.\r\n\t * @param {Element} prev - A previous active element.\r\n\t * @param {Element} curr - A current active element.\r\n\t */\r\n\tfunction updatePagination( data, prev, curr ) {\r\n\t\tif ( prev ) {\r\n\t\t\tremoveAttribute( prev.button, ARIA_CURRENRT );\r\n\t\t}\r\n\r\n\t\tif ( curr ) {\r\n\t\t\tsetAttribute( curr.button, ARIA_CURRENRT, true );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize autoplay buttons.\r\n\t */\r\n\tfunction initAutoplay() {\r\n\t\t[ 'play', 'pause' ].forEach( name => {\r\n\t\t\tconst elm = Elements[ name ];\r\n\r\n\t\t\tif ( elm ) {\r\n\t\t\t\tif ( ! isButton( elm ) ) {\r\n\t\t\t\t\tsetAttribute( elm, 'role', 'button' );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetAttribute( elm, ARIA_CONTROLS, Elements.track.id );\r\n\t\t\t\tsetAttribute( elm, ARIA_LABEL, i18n[ name ] );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize navigation slider.\r\n\t * Add button role, aria-label, aria-controls to slide elements and append screen reader text to them.\r\n\t *\r\n\t * @param {Splide} main - A main Splide instance.\r\n\t */\r\n\tfunction initNavigation( main ) {\r\n\t\tElements.each( Slide => {\r\n\t\t\tconst slide     = Slide.slide;\r\n\t\t\tconst realIndex = Slide.realIndex;\r\n\r\n\t\t\tif ( ! isButton( slide ) ) {\r\n\t\t\t\tsetAttribute( slide, 'role', 'button' );\r\n\t\t\t}\r\n\r\n\t\t\tconst slideIndex = realIndex > -1 ? realIndex : Slide.index;\r\n\t\t\tconst label      = sprintf( i18n.slideX, slideIndex + 1 );\r\n\t\t\tconst mainSlide  = main.Components.Elements.getSlide( slideIndex );\r\n\r\n\t\t\tsetAttribute( slide, ARIA_LABEL, label );\r\n\r\n\t\t\tif ( mainSlide ) {\r\n\t\t\t\tsetAttribute( slide, ARIA_CONTROLS, mainSlide.slide.id );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Update navigation attributes.\r\n\t *\r\n\t * @param {Object}  Slide  - A target Slide object.\r\n\t * @param {boolean} active - True if the slide is active or false if inactive.\r\n\t */\r\n\tfunction updateNavigation( { slide }, active ) {\r\n\t\tif ( active ) {\r\n\t\t\tsetAttribute( slide, ARIA_CURRENRT, true );\r\n\t\t} else {\r\n\t\t\tremoveAttribute( slide, ARIA_CURRENRT );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Check if the given element is button or not.\r\n\t *\r\n\t * @param {Element} elm - An element to be checked.\r\n\t *\r\n\t * @return {boolean} - True if the given element is button.\r\n\t */\r\n\tfunction isButton( elm ) {\r\n\t\treturn elm.tagName === 'BUTTON';\r\n\t}\r\n\r\n\treturn A11y;\r\n}","/**\r\n * The component for synchronizing a slider with another.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { LOOP } from '../../constants/types';\r\nimport { IDLE } from \"../../constants/states\";\r\n\r\n/**\r\n * The event name for sync.\r\n *\r\n * @type {string}\r\n */\r\nconst SYNC_EVENT = 'move.sync';\r\n\r\n/**\r\n * The event names for click navigation.\r\n * @type {string}\r\n */\r\nconst CLICK_EVENTS = 'mouseup touchend';\r\n\r\n/**\r\n * The keys for triggering the navigation button.\r\n *\r\n * @type {String[]}\r\n */\r\nconst TRIGGER_KEYS = [ ' ', 'Enter', 'Spacebar' ];\r\n\r\n\r\n/**\r\n * The component for synchronizing a slider with another.\r\n *\r\n * @param {Splide} Splide - A Splide instance.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide ) => {\r\n\t/**\r\n\t * Keep the sibling Splide instance.\r\n\t *\r\n\t * @type {Splide}\r\n\t */\r\n\tlet sibling = Splide.sibling;\r\n\r\n\t/**\r\n\t * Whether the sibling slider is navigation or not.\r\n\t *\r\n\t * @type {Splide|boolean}\r\n\t */\r\n\tconst isNavigation = sibling && sibling.options.isNavigation;\r\n\r\n\t/**\r\n\t * Layout component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Sync = {\r\n\t\t/**\r\n\t\t * Required only when the sub slider is available.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: !! sibling,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tsyncMain();\r\n\t\t\tsyncSibling();\r\n\r\n\t\t\tif ( isNavigation ) {\r\n\t\t\t\tbind();\r\n\r\n\t\t\t\tSplide.on( 'refresh', () => {\r\n\t\t\t\t\tsetTimeout( () => {\r\n\t\t\t\t\t\tbind();\r\n\t\t\t\t\t\tsibling.emit( 'navigation:updated', Splide );\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called after all components are mounted.\r\n\t\t */\r\n\t\tmounted() {\r\n\t\t\tif ( isNavigation ) {\r\n\t\t\t\tsibling.emit( 'navigation:mounted', Splide );\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Listen the primary slider event to move secondary one.\r\n\t * Must unbind a handler at first to avoid infinite loop.\r\n\t */\r\n\tfunction syncMain() {\r\n\t\tSplide.on( SYNC_EVENT, ( newIndex, prevIndex, destIndex ) => {\r\n\t\t\tsibling\r\n\t\t\t\t.off( SYNC_EVENT )\r\n\t\t\t\t.go( sibling.is( LOOP ) ? destIndex : newIndex, false );\r\n\r\n\t\t\tsyncSibling();\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Listen the secondary slider event to move primary one.\r\n\t * Must unbind a handler at first to avoid infinite loop.\r\n\t */\r\n\tfunction syncSibling() {\r\n\t\tsibling.on( SYNC_EVENT, ( newIndex, prevIndex, destIndex ) => {\r\n\t\t\tSplide\r\n\t\t\t\t.off( SYNC_EVENT )\r\n\t\t\t\t.go( Splide.is( LOOP ) ? destIndex : newIndex, false );\r\n\r\n\t\t\tsyncMain();\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Listen some events on each slide.\r\n\t */\r\n\tfunction bind() {\r\n\t\tsibling.Components.Elements.each( ( { slide, index } ) => {\r\n\t\t\t/*\r\n\t\t\t * Listen mouseup and touchend events to handle click.\r\n\t\t\t */\r\n\t\t\tSplide\r\n\t\t\t\t.off( CLICK_EVENTS, slide )\r\n\t\t\t\t.on( CLICK_EVENTS, e => {\r\n\t\t\t\t\t// Ignore a middle or right click.\r\n\t\t\t\t\tif ( ! e.button || e.button === 0 ) {\r\n\t\t\t\t\t\tmoveSibling( index );\r\n\t\t\t\t\t}\r\n\t\t\t\t}, slide );\r\n\r\n\t\t\t/*\r\n\t\t\t * Subscribe keyup to handle Enter and Space key.\r\n\t\t\t * Note that Array.includes is not supported by IE.\r\n\t\t\t */\r\n\t\t\tSplide\r\n\t\t\t\t.off( 'keyup', slide )\r\n\t\t\t\t.on( 'keyup', e => {\r\n\t\t\t\t\tif ( TRIGGER_KEYS.indexOf( e.key ) > -1 ) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tmoveSibling( index );\r\n\t\t\t\t\t}\r\n\t\t\t\t}, slide, { passive: false } );\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Move the sibling to the given index.\r\n\t * Need to check \"IDLE\" status because slides can be moving by Drag component.\r\n\t *\r\n\t * @param {number} index - Target index.\r\n\t */\r\n\tfunction moveSibling( index ) {\r\n\t\tif ( Splide.State.is( IDLE ) ) {\r\n\t\t\tsibling.go( index );\r\n\t\t}\r\n\t}\r\n\r\n\treturn Sync;\r\n}","/**\r\n * The component for updating options according to a current window width.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport { throttle } from \"../../utils/time\";\r\nimport { DESTROYED } from \"../../constants/states\";\r\n\r\n/**\r\n * Interval time for throttle.\r\n *\r\n * @type {number}\r\n */\r\nconst THROTTLE = 50;\r\n\r\n/**\r\n * The component for updating options according to a current window width.\r\n *\r\n * @param {Splide} Splide - A Splide instance.\r\n *\r\n * @return {Object} - The component object.\r\n */\r\nexport default ( Splide ) => {\r\n\t/**\r\n\t * Store breakpoints.\r\n\t *\r\n\t * @type {Object|boolean}\r\n\t */\r\n\tconst breakpoints = Splide.options.breakpoints;\r\n\r\n\t/**\r\n\t * The check function whose frequency of call is reduced.\r\n\t *\r\n\t * @type {Function}\r\n\t */\r\n\tconst throttledCheck = throttle( check, THROTTLE );\r\n\r\n\t/**\r\n\t * Keep initial options.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tlet initialOptions;\r\n\r\n\t/**\r\n\t * An array containing objects of point and MediaQueryList.\r\n\t *\r\n\t * @type {Object[]}\r\n\t */\r\n\tlet map = [];\r\n\r\n\t/**\r\n\t * Hold the previous breakpoint.\r\n\t *\r\n\t * @type {number|undefined}\r\n\t */\r\n\tlet prevPoint;\r\n\r\n\t/**\r\n\t * Breakpoints component object.\r\n\t *\r\n\t * @type {Object}\r\n\t */\r\n\tconst Breakpoints = {\r\n\t\t/**\r\n\t\t * Required only when the breakpoints definition is provided and browser supports matchMedia.\r\n\t\t *\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\trequired: breakpoints && matchMedia,\r\n\r\n\t\t/**\r\n\t\t * Called when the component is mounted.\r\n\t\t */\r\n\t\tmount() {\r\n\t\t\tmap = Object.keys( breakpoints )\r\n\t\t\t\t.sort( ( n, m ) => +n - +m )\r\n\t\t\t\t.map( point => ( { point, mql: matchMedia( `(max-width:${ point }px)` ) } ) );\r\n\r\n\t\t\t/*\r\n\t\t\t * To keep monitoring resize event after destruction without \"completely\",\r\n\t\t\t * use native addEventListener instead of Splide.on.\r\n\t\t\t */\r\n\t\t\tthis.destroy( true );\r\n\t\t\taddEventListener( 'resize', throttledCheck );\r\n\r\n\t\t\t// Keep initial options to apply them when no breakpoint matches.\r\n\t\t\tinitialOptions = Splide.options;\r\n\r\n\t\t\tcheck();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Destroy.\r\n\t\t *\r\n\t\t * @param {boolean} completely - Whether to destroy Splide completely.\r\n\t\t */\r\n\t\tdestroy( completely ) {\r\n\t\t\tif ( completely ) {\r\n\t\t\t\tremoveEventListener( 'resize', throttledCheck );\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n\r\n\t/**\r\n\t * Check the breakpoint.\r\n\t */\r\n\tfunction check() {\r\n\t\tconst point = getPoint();\r\n\r\n\t\tif ( point !== prevPoint ) {\r\n\t\t\tprevPoint = point;\r\n\r\n\t\t\tconst State   = Splide.State;\r\n\t\t\tconst options = breakpoints[ point ] || initialOptions;\r\n\t\t\tconst destroy = options.destroy;\r\n\r\n\t\t\tif ( destroy ) {\r\n\t\t\t\tSplide.options = initialOptions;\r\n\t\t\t\tSplide.destroy( destroy === 'completely' );\r\n\t\t\t} else {\r\n\t\t\t\tif ( State.is( DESTROYED ) ) {\r\n\t\t\t\t\tSplide.mount();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tSplide.options = options;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Return the breakpoint matching current window width.\r\n\t * Note that Array.prototype.find is not supported by IE.\r\n\t *\r\n\t * @return {number|string} - A breakpoint as number or string. -1 if no point matches.\r\n\t */\r\n\tfunction getPoint() {\r\n\t\tconst item = map.filter( item => item.mql.matches )[0];\r\n\t\treturn item ? item.point : -1;\r\n\t}\r\n\r\n\treturn Breakpoints;\r\n}","/**\r\n * Export components.\r\n *\r\n * @author    Naotoshi Fujita\r\n * @copyright Naotoshi Fujita. All rights reserved.\r\n */\r\n\r\nimport Options     from './options';\r\nimport Elements    from './elements';\r\nimport Controller  from './controller';\r\nimport Track       from './track';\r\nimport Clones      from './clones';\r\nimport Layout      from './layout';\r\nimport Drag        from './drag';\r\nimport Click       from './click';\r\nimport Autoplay    from './autoplay';\r\nimport Cover       from './cover';\r\nimport Arrows      from './arrows';\r\nimport Pagination  from './pagination';\r\nimport LazyLoad    from './lazyload';\r\nimport Keyboard    from './keyboard';\r\nimport A11y        from './a11y';\r\nimport Sync        from './sync';\r\nimport Breakpoints from './breakpoints';\r\n\r\nexport const COMPLETE = {\r\n\tOptions,\r\n\tBreakpoints,\r\n\tController,\r\n\tElements,\r\n\tTrack,\r\n\tClones,\r\n\tLayout,\r\n\tDrag,\r\n\tClick,\r\n\tAutoplay,\r\n\tCover,\r\n\tArrows,\r\n\tPagination,\r\n\tLazyLoad,\r\n\tKeyboard,\r\n\tSync,\r\n\tA11y,\r\n};\r\n\r\nexport const LIGHT = {\r\n\tOptions,\r\n\tController,\r\n\tElements,\r\n\tTrack,\r\n\tClones,\r\n\tLayout,\r\n\tDrag,\r\n\tClick,\r\n\tArrows,\r\n\tPagination,\r\n\tA11y,\r\n};","import { default as Core } from '../../splide';\nimport { COMPLETE } from '../../components';\n\n\n/**\n * Exports the Splide class with all components.\n *\n * @since 1.0.0\n */\nexport default class Splide extends Core {\n\tconstructor( root, options ) {\n\t\tsuper( root, options, COMPLETE );\n\t}\n}\n"],"names":["data","Event","on","events","handler","elm","options","split","forEach","event","addEventListener","push","off","filter","item","unsubscribe","emit","args","destroy","removeEventListener","initialState","curr","set","state","is","keys","Object","each","obj","callback","some","key","index","values","map","isObject","subject","merge","from","to","value","assign","defineProperty","getOwnPropertyDescriptor","toArray","Array","isArray","between","m1","m2","Math","min","max","sprintf","format","replacements","i","replace","unit","type","parseFloat","pad","number","toPixel","root","div","create","applyStyle","position","width","append","clientWidth","remove","find","selector","querySelector","child","parent","tagOrClassName","children","hasClass","tagName","tag","attrs","document","createElement","setAttribute","domify","html","innerHTML","firstChild","elms","parentElement","removeChild","appendChild","before","ref","insertBefore","styles","prop","style","addOrRemoveClasses","classes","name","classList","addClass","removeClass","className","contains","getAttribute","removeAttribute","names","getRect","getBoundingClientRect","loaded","images","querySelectorAll","length","count","img","onload","onerror","SLIDE","LOOP","FADE","Splide","Components","list","endCallback","mount","Elements","e","target","start","destIndex","newIndex","prevIndex","coord","done","edgeIndex","Controller","speed","rewindSpeed","transition","easing","transform","x","y","Fade","apply","track","height","clientHeight","setTimeout","slides","compose","Transition","components","Component","toLowerCase","Slide","MESSAGE_PREFIX","error","message","console","exist","Error","ROOT","ELEMENT_CLASSES","slider","slide","container","arrows","arrow","prev","next","pagination","page","clone","progress","bar","autoplay","play","pause","spinner","sr","STATUS_CLASSES","active","visible","loading","I18N","first","last","slideX","pageX","DEFAULTS","rewind","waitForTransition","fixedWidth","fixedHeight","heightRatio","autoWidth","autoHeight","perPage","perMove","clones","focus","gap","padding","arrowPath","interval","pauseOnHover","pauseOnFocus","resetProgress","lazyLoad","preloadPages","keyboard","drag","dragAngleThreshold","swipeDistanceThreshold","flickVelocityThreshold","flickPower","flickMaxPages","direction","cover","accessibility","slideFocus","isNavigation","trimSpace","updateOnMove","throttle","breakpoints","i18n","CREATED","MOUNTED","IDLE","MOVING","DESTROYED","Element","State","STATES.CREATED","STATES","_o","_i","_c","_e","_t","Extensions","component","required","undefined","STATES.MOUNTED","mounted","STATES.IDLE","visibility","STATES.MOVING","sync","splide","sibling","go","control","wait","add","refresh","bind","completely","reverse","STATES.DESTROYED","parseInt","created","JSON","parse","RTL","TTB","STYLE_RESTORE_EVENTS","realIndex","STATUS_UPDATE_EVENTS","isClone","id","update","restoreStyles","display","isActive","isVisible","ceil","trackRect","slideRect","top","bottom","left","right","isWithin","within","diff","abs","forVisibility","UID_NAME","Slides","window","uid","init","getClasses","collect","register","SlideObject","getSlide","getSlides","includeClones","getSlidesByPage","idx","toIndex","splice","total","findParts","rootClass","floor","isLoop","silently","trim","Track","matches","String","match","indicator","parsePage","hasFocus","pageLength","toPage","edge","isRtl","nextIndex","newOptions","sign","Layout","isVertical","isFade","isRTL","isLoopPending","jump","newPosition","getTrimmedPosition","toCoord","onTransitionEnd","translate","cancel","shift","toPosition","innerSize","totalSize","size","minDistance","Infinity","slideIndex","distance","slideSize","offset","cloneCount","Clones","getCloneCount","generateClones","concat","slice","cloneDeeply","baseCount","dimension","fixedSize","cloneNode","margin","resize","paddingLeft","paddingRight","totalWidth","listRect","slideWidth","offsetWidth","slideHeight","paddingTop","paddingBottom","totalHeight","offsetHeight","func","timeout","createInterval","requestAnimationFrame","elapse","rate","step","timestamp","reset","Vertical","Horizontal","maxWidth","MIN_VELOCITY","FRICTION_REDUCER","startCoord","startInfo","currentInfo","isDragging","axis","Drag","disabled","move","passive","end","preventDefault","analyze","cancelable","resist","shouldMove","angle","atan","PI","log","info","velocity","absV","destination","timeStamp","touches","clientX","clientY","fromX","fromY","startTime","time","duration","Click","onClick","capture","stopPropagation","stopImmediatePropagation","PAUSE_FLAGS","HOVER","FOCUS","MANUAL","flags","Autoplay","flag","f","indexOf","switchOn","Cover","uncover","src","background","XML_NAME_SPACE","PATH","SIZE","Arrows","createArrow","appendArrows","updateDisabled","isEnough","wrapper","class","firstElementChild","ATTRIBUTES_UPDATE_EVENT","UPDATE_EVENT","Pagination","createPagination","updateAttributes","getItem","items","button","li","SRC_DATA_NAME","SRCSET_DATA_NAME","isSequential","Lazyload","srcset","loadNext","check","isNaN","image","load","ARIA_CURRENRT","ARIA_CONTROLS","ARIA_LABEL","ARIA_HIDDEN","TAB_INDEX","KEY_MAP","ltr","ArrowLeft","ArrowRight","Left","Right","rtl","ttb","ArrowUp","ArrowDown","Up","Down","allAttributes","A11y","updateSlide","initArrows","updateArrows","initPagination","updatePagination","initNavigation","updateNavigation","initAutoplay","controls","prevLabel","nextLabel","activeItem","text","label","join","isButton","main","mainSlide","SYNC_EVENT","CLICK_EVENTS","TRIGGER_KEYS","Sync","syncMain","syncSibling","moveSibling","THROTTLE","throttledCheck","initialOptions","prevPoint","Breakpoints","matchMedia","sort","n","m","point","mql","getPoint","COMPLETE","Options","LazyLoad","Keyboard","Core"],"mappings":"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"}